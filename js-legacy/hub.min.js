var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var g=a[f];if(b.call(c,g,f,a))return{i:f,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];if(!(f in c))return;c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var f=a.split(".");a=1===f.length;d=f[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<f.length-1;g++){var l=f[g];if(!(l in d))return;d=d[l]}f=f[f.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[f]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[f]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+c+"$"+f),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[f],{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(g,l){this.$jscomp$symbol$id_=g;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:l})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,f=function(g){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new b(c+(g||"")+"_"+d++,g)};return f},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,f={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var f in d)$jscomp.owns(d,f)&&(a[f]=d[f])}return a};
$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$.wa=$.ui?$.extend(!0,$.wa,$.ui):{};
$.wa=$.extend(!0,$.wa,{data:{},content:!1,get:function(a,b){return void 0==a?this.data:this.data[name]||b||null},set:function(a,b){if(void 0==a)return this.data;"object"==typeof a?$.extend(this.data,a):this.data[a]=value;return this.data},encodeHTML:function(a){return a&&(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},decodeHTML:function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},setHash:function(a){a instanceof String||!a.toString||(a=a.toString());
a=a.replace(/\/\//g,"/");a=a.replace(/^.*#/,"");$.browser&&$.browser.safari?parent?parent.window.location=parent.window.location.href.replace(/#.*/,"")+"#"+a:window.location=location.href.replace(/#.*/,"")+"#"+a:!parent||$.browser&&$.browser.msie?location.hash=a:parent.window.location.hash=a;return!0},back:function(a){2<history.length?"number"==typeof a&&parseInt(a)==a?history.go(-a):history.go(-1):$.browser.msie&&0<history.length?history.back():a&&this.setHash(a);return!1},toggleHashParam:function(a){-1==
location.hash.search(a)?this.addToHash(a):this.removeFromHash(a)},addToHash:function(a){var b=location.hash;-1==b.search(a)&&(b+="/"+a+"/");this.setHash(b)},removeFromHash:function(a){var b=location.hash;-1<b.search(a)&&(b=b.replace(a,""));this.setHash(b)},setTitle:function(a){document.title=a},array_search:function(a,b,c){c=!!c;for(var d in b)if(c&&b[d]===a||!c&&b[d]==a)return d;return!1},dialogCreate:function(a,b){b=$.extend({content:'<h1>Loading... <i class="icon16 loading"></i></h1>',buttons:null,
url:null,post:null,small:!1,onload:null,oncancel:null},b);b.content=$(b.content);b.buttons=b.buttons?$(b.buttons):$('<input type="submit" class="button gray" value="'+$_("Cancel")+'">').click(function(){b.oncancel&&b.oncancel.call(c[0]);$.wa.dialogHide()});var c=$("#"+a);0>=c.size()&&(c=$('<div class="dialog" id="'+a+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"><div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div></div></div>').appendTo("body"));
c.find(".dialog-buttons-gradient").empty().append(b.buttons);c.find(".dialog-content-indent").empty().append(b.content);c.show();b.small?c.addClass("small"):c.removeClass("small");b.url&&(a=function(f){c.find(".dialog-content-indent").html(f);$.wa.waCenterDialog(c);b.onload&&b.onload.call(c[0])},b.post?$.post(b.url,b.post,a):$.get(b.url,a));this.waCenterDialog(c);var d=function(f){if(c.is(":visible"))if(f&&27==f.keyCode)b.oncancel&&"function"==typeof b.oncancel&&b.oncancel.call(c[0]),$.wa.dialogHide();
else $(document).one("keyup",d)};d();$(document).one("hashchange",$.wa.dialogHide);return c},waCenterDialog:function(a){a=$(a);a=a.find(".dialog-window");var b=a.outerWidth(!0),c=a.outerHeight(!0),d=$(window).width(),f=$(window).height();a.css({left:Math.round((d-b)/2/d*100)+"%",top:Math.round((f-c)/2/f*100)+"%"})},dialogHide:function(){$(".dialog").hide();return!1},dropdownsClose:function(){var a=$(".dropdown:not(.disabled)");a.addClass("disabled");setTimeout(function(){a.removeClass("disabled")},
600)},dropdownsCloseEnable:function(){$(document).on("click",".dropdown:not(.disabled)",this.dropdownsClickHandler)},dropdownsCloseDisable:function(){$(document).off("click",".dropdown:not(.disabled)",this.dropdownsClickHandler)},dropdownsClickHandler:function(a){var b=$(this);b.hasClass("no-click-close")||(b.addClass("disabled"),setTimeout(function(){b.removeClass("disabled")},600))},defaultInputValue:function(a,b,c){a instanceof jQuery||(a=$(a));var d=function(){var f=a.val();f&&f!=b||(a.val(b),
a.addClass(c))};d();a.blur(d);a.focus(function(){a.hasClass(c)&&(a.removeClass(c),a.val(""))})},loadFiles:function(a){$.isArray(a)||(a="object"!==typeof a||$.isArray(a)?[].slice.apply(arguments):$.map(a,function(c,d){return c?d:null}));var b=a.map(function(c){return c?"string"!=typeof c?"object"===typeof c&&"function"===typeof c.then?c:null:c.match(/\.css(\?.*)?$/)?($("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet",href:c}),null):$.ajax({cache:!0,dataType:"script",url:c}):null}).filter(function(c){return!!c});
return $.when.apply($,b)},determineTimezone:function(a,b){var c=!1;$.each(document.cookie.split(/;\s*/g),function(f,g){g=g.split("=",2);if("tz"==g[0])return c=!0,b&&b(g[1]),!1});if(!c){var d={};d[a+"wa-content/js/jstz/jstz.min.js"]=!window.jstz;$.wa.loadFiles(d).then(function(){var f=window.jstz.determine().name();document.cookie="tz="+jstz.determine().name()+"; sameSite=LAX";var g=new Date;g.setTime(g.getTime()+12096E5);document.cookie="oldtz="+f+"; expires="+g.toUTCString()+"; sameSite=LAX";b&&
b(f)})}},util:{formatFileSize:function(a){var b=-1;do a/=1024,b++;while(99<a);return Math.max(a,.01).toFixed(2)+(0<=b?" "+$_("kB MB GB TB PB EB".split(" ")[b]):"")}}});
window.wa_skip_ajax_setup||($.ajaxSetup({cache:!1}),$(document).ajaxError(function(a,b,c,d){if(502===b.status&&"abort"==d||c.url&&0<=c.url.indexOf("background_process")||c.data&&0<=c.data.indexOf("background_process"))console&&console.log&&console.log("Notice: XHR failed on load: "+c.url);else if(200!==b.status&&b.responseText){if(!$.wa.errorHandler||$.wa.errorHandler(b))-1!=b.responseText.indexOf("Exception")?$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"}):(document.open("text/html"),
document.write(b.responseText),document.close(),$(window).one("hashchange",function(){window.location.reload()}))}else b.getResponseHeader("wa-session-expired")?window.location.reload():"undefined"!==typeof b.responseText&&-1!=b.responseText.indexOf("Exception")&&$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"})}));
window.wa_skip_csrf_prefilter||$.ajaxPrefilter(function(a,b,c){a.crossDomain||"POST"!==(a.type||"").toUpperCase()||(b=document.cookie.match(/(?:^|; )_csrf=([^;]*)/))&&b[1]&&(b=decodeURIComponent(b[1]),a.data||0===a.data||(a.data=""),"string"==typeof a.data?-1==a.data.indexOf("_csrf=")&&(a.data+=(0<a.data.length?"&":"")+"_csrf="+b,c.setRequestHeader("Content-type","application/x-www-form-urlencoded")):"object"==typeof a.data&&(window.FormData&&a.data instanceof window.FormData?"function"==typeof a.data.set?
a.data.set("_csrf",b):a.data.append("_csrf",b):a.data._csrf=b))});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length;b=Number(b)||0;b=0>b?Math.ceil(b):Math.floor(b);for(0>b&&(b+=c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});$.wa.locale=$.wa.locale||{};
$_=function(a,b){if(!$||!$.wa||!$.wa.locale)return console.log("JS localization failed: empty $.wa.locale"),"string"===typeof b?b:a;if(b){if(!$.wa.locale[b])return console&&console.log("JS localization failed: "+b),b;if("string"==typeof $.wa.locale[b])return $.wa.locale[b];var c=a%10;return 1==Math.floor(a/10)%10||4<c||0==c?$.wa.locale[b][2]:1==c?$.wa.locale[b][0]:$.wa.locale[b][1]}if($.wa.locale[a])return"string"==typeof $.wa.locale[a]?$.wa.locale[a]:$.wa.locale[a][0];console&&console.log("JS localization failed: "+
a);return a};jQuery.fn.waDialog=function(a){a=jQuery.extend({loading_header:"",title:"",esc:!0,buttons:null,url:null,url_reload:!0,"class":null,content:null,width:0,height:0,"min-width":0,"min-height":0,offsetTop:null,offsetLeft:null,disableButtonsOnSubmit:!1,onLoad:null,onCancel:null,onSubmit:null},a||{});var b=$(this),c=b.attr("id");c&&!b.hasClass("dialog")&&(b.removeAttr("id"),$("#"+c).length&&(a.url?(b=$("#"+c),a.url_reload||(a.url=null)):$("#"+c).remove()));var d=a["class"]||a.className?a["class"]||a.className:
b.attr("class")||"";if(b.hasClass("dialog"))a.content&&(b.find(".dialog-content-indent").html(a.content),a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")),a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);else{var f=$(this),g=b.parent();g.length&&g.is(":visible")||(g=$("body"));b=$("<div "+(c?'id = "'+c+'"':"")+' class="dialog '+d+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"></div></div>').appendTo(g);f.find(".dialog-content").length||
f.find(".dialog-buttons").length?($(".dialog-window",b).append(f.show()),c=f.find(".dialog-content"),c.length&&(d=$('<div class="dialog-content-indent"></div>'),c.contents().appendTo(d),c.append(d)),c=f.find(".dialog-buttons"),c.length&&(d=$('<div class="dialog-buttons-gradient"></div>'),c.contents().appendTo(d),c.append(d))):($(".dialog-window",b).append((a.onSubmit?'<form method="post" action="">':"")+'<div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div>'+
(a.onSubmit?"</form>":"")),b.find(".dialog-content-indent").append(f.show()));a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);a.url?b.find(".dialog-content-indent").append("<h1>"+(a.loading_header||"")+'<i class="icon16 loading"></i></h1>'):a.content&&b.find(".dialog-content-indent").append(a.content);a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")}b.find(".dialog-background").length||b.prepend('<div class="dialog-background"> </div>');b.unbind("close").bind("close",
function(){a.onClose&&a.onClose.call($(this));$(this).hide()});f=["width","height","min-width","min-height"];for(c=0;c<f.length;c++)a[f[c]]&&(("height"==f[c]&&"300px">a[f[c]]||"width"==f[c]&&"400px">a[f[c]])&&b.find("div.dialog-window").css("min-"+f[c],a[f[c]]),b.find("div.dialog-window").css(f[c],a[f[c]]));a.disableButtonsOnSubmit&&b.find("input[type=submit]").removeAttr("disabled");b.parent().length||b.appendTo("body");b.show();a.url?jQuery.get(a.url,function(l){var k=$(l);k.find(".dialog-content").length||
k.find(".dialog-buttons").length?(k.find(".dialog-content").length&&b.find(".dialog-content-indent").empty().append(k.find(".dialog-content").contents()),k.find(".dialog-buttons").length&&b.find(".dialog-buttons-gradient").empty().append(k.find(".dialog-buttons").contents())):b.find(".dialog-content-indent").html(l);b.trigger("wa-resize");a.onLoad&&a.onLoad.call(b.get(0))}):a.onLoad&&a.onLoad.call(b.get(0));b.find(".dialog-buttons").delegate(".cancel","click",function(l){l.stopPropagation();l.preventDefault();
a.onCancel&&a.onCancel.call(b.get(0));b.trigger("close");return!1});a.onSubmit&&b.find("form").unbind("submit").submit(function(l){a.disableButtonsOnSubmit&&b.find("input[type=submit]").attr("disabled","disabled");try{return a.onSubmit.apply(this,[b,l])}catch(k){throw l.preventDefault(),k;}});b.unbind("wa-resize").bind("wa-resize",function(){var l=jQuery(this).find(".dialog-window"),k=l.width(),n=l.height();jQuery("body").css("min-height",n+"px");var t=jQuery(window).width(),u=jQuery(window).height()-
60;k=(t-k)/2/t;n=(u-n-60)/2/u;0>n&&(n=0);0>k&&(k=0);l.css({left:a.offsetLeft||Math.round(100*k)+"%",top:a.offsetTop||Math.round(100*n)+"%"})}).trigger("wa-resize");a.esc&&b.unbind("esc").bind("esc",function(){b.trigger("close")});return b};jQuery(window).resize(function(){jQuery(".dialog:visible").trigger("wa-resize")});jQuery(document).keyup(function(a){27==a.keyCode&&jQuery(".dialog:visible").trigger("esc")});/*
 (c) 2008-2009 Benjamin Arthur Lupton {@link http://www.balupton.com}
 @license GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 @example Visit {@link http://jquery.com/plugins/project/jquery_history_bal} for more information.


 I would like to take this space to thank the following projects, blogs, articles and people:
 - jQuery {@link http://jquery.com/}
 - jQuery UI History - Klaus Hartl {@link http://www.stilbuero.de/jquery/ui_history/}
 - Really Simple History - Brian Dillard and Brad Neuberg {@link http://code.google.com/p/reallysimplehistory/}
 - jQuery History Plugin - Taku Sano (Mikage Sawatari) {@link http://www.mikage.to/jquery/jquery_history.html}
 - jQuery History Remote Plugin - Klaus Hartl {@link http://stilbuero.de/jquery/history/}
 - Content With Style: Fixing the back button and enabling bookmarking for ajax apps - Mike Stenhouse {@link http://www.contentwithstyle.co.uk/Articles/38/fixing-the-back-button-and-enabling-bookmarking-for-ajax-apps}
 - Bookmarks and Back Buttons {@link http://ajax.howtosetup.info/options-and-efficiencies/bookmarks-and-back-buttons/}
 - Ajax: How to handle bookmarks and back buttons - Brad Neuberg {@link http://dev.aol.com/ajax-handling-bookmarks-and-back-button}

*
**
 CHANGELOG
*
 v1.0.1-final, July 11, 2009
 - Restructured a little bit
 - Documented
 - Cleaned go/request

 v1.0.0-final, June 19, 2009
 - Been stable for over a year now, pushing live.

 v0.1.0-dev, July 24, 2008
 - Initial Release

*/
(function(a){"undefined"===typeof console&&(console="undefined"!==typeof window.console?window.console:{});console.log=console.log||function(){};console.debug=console.debug||console.log;console.warn=console.warn||console.log;console.error=console.error||function(){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c]);alert(b.join("\n"))};console.trace=console.trace||console.log;console.group=console.group||console.log;console.groupEnd=console.groupEnd||console.log;console.profile=console.profile||
console.log;console.profileEnd=console.profileEnd||console.log;a.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},format:function(b){return b=b.replace(/^.+?#/g,"").replace(/^#?\/?|\/?$/g,"")},getState:function(){return a.History.state},setState:function(b){var c=a.History;b=c.format(b);c.state=b;return c.state},getHash:function(){var b=parent&&!a.browser.msie?parent.window.location.hash:window.location.hash||location.hash;return b=a.History.format(b)},
setHash:function(b){b=a.History.format(b);b=b.replace(/^\/?|\/?(\?)|\/?$/g,"/$1");"undefined"===typeof window.location.hash&&(location.hash=b);a.browser.msie&&8>parseInt(a.browser.version,10)&&(a.History.$iframe.contentWindow.document.open(),a.History.$iframe.contentWindow.document.close())},go:function(b){var c=a.History;b=c.format(b);c.getHash()!==b?c.setHash(b):(c.setState(b),c.trigger());return!0},hashchange:function(b){var c=a.History;c.options.debug&&console.debug("History.hashchange",this,
arguments);var d=c.getHash(),f=c.getState();if(!c.$iframe&&f===d||c.$iframe&&c.hash===c.$iframe.contentWindow.document.location.hash||f===d)return!1;c.setState(d);c.trigger();return!0},bind:function(b,c){var d=a.History;c?("undefined"===typeof d.handlers.specific[b]&&(d.handlers.specific[b]=[]),d.handlers.specific[b].push(c)):d.handlers.generic.push(b);return!0},trigger:function(b){var c=a.History;"undefined"===typeof b&&(b=c.getState());var d;if("undefined"!==typeof c.handlers.specific[b]){var f=
c.handlers.specific[b];var g=0;for(d=f.length;g<d;++g){var l=f[g];l(b)}}f=c.handlers.generic;g=0;for(d=f.length;g<d;++g)l=f[g],l(b);return!0},construct:function(){var b=a.History;a(document).ready(function(){b.domReady()});return!0},configure:function(b){var c=a.History;c.options=a.extend(c.options,b);return!0},domReadied:!1,domReady:function(){var b=a.History;if(!b.domRedied)return b.domRedied=!0,b.$window=a(window),b.$window.bind("hashchange",this.hashchange),setTimeout(b.hashchangeLoader,200),
!0},hashchangeLoader:function(){var b=a.History;if(a.browser.msie&&8<=parseInt(a.browser.version))(c=b.getHash())&&b.$window.trigger("hashchange");else{if(a.browser.msie){b.$iframe=a('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0];b.$iframe.contentWindow.document.open();b.$iframe.contentWindow.document.close();var c=b.getHash();c&&(b.$iframe.contentWindow.document.location.hash=c);c=function(){var d=b.format(b.$iframe.contentWindow.document.location.hash);
b.getState()!==d&&b.setHash(b.$iframe.contentWindow.document.location.hash);d=b.getHash();b.getState()!==d&&b.go(d)}}else c=function(){var d=b.getHash();b.getState()!==d&&b.go(d)};a.browser.msie&&8>parseInt(a.browser.version)?setInterval(c,1500):setInterval(c,200)}return!0}};a.History.construct()})(jQuery);(function(a,b){a.store=function(c,d){var f=this;if("string"==typeof c)if(a.store.drivers[c])this.driver=a.store.drivers[c];else throw Error("Unknown driver "+c);else if("object"==typeof c){if(!(a.isFunction(c.init)&&a.isFunction(c.get)&&a.isFunction(c.set)&&a.isFunction(c.del)&&a.isFunction(c.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=c}else a.each(a.store.drivers,function(){if(!a.isFunction(this.available)||!this.available())return!0;f.driver=this;
return!1===f.driver.init()?(f.driver=null,!0):!1});d||(d=a.store.serializers);this.serializers={};a.each(d,function(g,l){if(!a.isFunction(this.init))return!0;f.serializers[g]=this;f.serializers[g].init(f.encoders,f.decoders)})};a.extend(a.store.prototype,{get:function(c){c=this.driver.get(c);return this.driver.encodes?c:this.unserialize(c)},set:function(c,d){this.driver.set(c,this.driver.encodes?d:this.serialize(d))},del:function(c){this.driver.del(c)},flush:function(){this.driver.flush()},driver:b,
encoders:[],decoders:[],serialize:function(c){var d=this;a.each(this.encoders,function(){var f=d.serializers[this+""];if(!f||!f.encode)return!0;try{c=f.encode(c)}catch(g){}});return c},unserialize:function(c){var d=this;if(!c)return c;a.each(this.decoders,function(){var f=d.serializers[this+""];if(!f||!f.decode)return!0;c=f.decode(c)});return c}});a.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(c){return!1}},
init:a.noop,get:function(c){return window.localStorage.getItem(c)},set:function(c,d){window.localStorage.setItem(c,d)},del:function(c){window.localStorage.removeItem(c)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(c){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(c){return!1}},get:function(c){this.element.load(this.nodeName);return this.element.getAttribute(c)},set:function(c,d){this.element.setAttribute(c,d);this.element.save(this.nodeName)},del:function(c){this.element.removeAttribute(c);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=a.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=a.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(c){this.cache={},window.name="{}"}},get:function(c){return this.cache[c]},set:function(c,d){this.cache[c]=
d;this.save()},del:function(c){try{delete this.cache[c]}catch(d){this.cache[c]=b}this.save()},flush:function(){window.name="{}"}}};a.store.serializers={json:{ident:"$.store.serializers.json",init:function(c,d){c.push("json");d.push("json")},encode:"object"==typeof JSON?JSON.stringify:a.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:a.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(c,d){c.unshift("xml");d.push("xml")},isXML:function(c){return(c=(c?c.ownerDocument||c:0).documentElement)?
"html"!==c.nodeName.toLowerCase():!1},encode:function(c){if(!c||c._serialized||!this.isXML(c))return c;var d={_serialized:this.ident,value:c};try{return d.value=(new XMLSerializer).serializeToString(c),d}catch(f){try{return d.value=c.xml,d}catch(g){}}return c},decode:function(c){if(!c||!c._serialized||c._serialized!=this.ident)return c;var d="DOMParser"in window&&(new DOMParser).parseFromString;!d&&window.ActiveXObject&&(d=function(f){var g=new ActiveXObject("Microsoft.XMLDOM");g.async="false";g.loadXML(f);
return g});if(!d)return b;c.value=d.call("DOMParser"in window&&new DOMParser||window,c.value,"text/xml");return this.isXML(c.value)?c.value:b}}}})(jQuery);/*
 jQuery UI - v1.8.24 - 2012-09-28
 https://github.com/jquery/jquery-ui
 Includes: jquery.ui.position.js
 Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,f={},g=a.fn.position,l=a.fn.offset;a.fn.position=function(k){if(!k||!k.of)return g.apply(this,arguments);k=a.extend({},k);var n=a(k.of),t=n[0],u=(k.collision||"flip").split(" "),x=k.offset?k.offset.split(" "):[0,0],D,I,G;return 9===t.nodeType?(D=n.width(),I=n.height(),G={top:0,left:0}):t.setTimeout?(D=n.width(),I=n.height(),G={top:n.scrollTop(),left:n.scrollLeft()}):t.preventDefault?(k.at="left top",D=I=0,G={top:k.of.pageY,
left:k.of.pageX}):(D=n.outerWidth(),I=n.outerHeight(),G=n.offset()),a.each(["my","at"],function(){var E=(k[this]||"").split(" ");1===E.length&&(E=c.test(E[0])?E.concat(["center"]):d.test(E[0])?["center"].concat(E):["center","center"]);E[0]=c.test(E[0])?E[0]:"center";E[1]=d.test(E[1])?E[1]:"center";k[this]=E}),1===u.length&&(u[1]=u[0]),x[0]=parseInt(x[0],10)||0,1===x.length&&(x[1]=x[0]),x[1]=parseInt(x[1],10)||0,"right"===k.at[0]?G.left+=D:"center"===k.at[0]&&(G.left+=D/2),"bottom"===k.at[1]?G.top+=
I:"center"===k.at[1]&&(G.top+=I/2),G.left+=x[0],G.top+=x[1],this.each(function(){var E=a(this),R=E.outerWidth(),J=E.outerHeight(),M=parseInt(a.curCSS(this,"marginLeft",!0))||0,S=parseInt(a.curCSS(this,"marginTop",!0))||0,T=R+M+(parseInt(a.curCSS(this,"marginRight",!0))||0),U=J+S+(parseInt(a.curCSS(this,"marginBottom",!0))||0),H=a.extend({},G);"right"===k.my[0]?H.left-=R:"center"===k.my[0]&&(H.left-=R/2);"bottom"===k.my[1]?H.top-=J:"center"===k.my[1]&&(H.top-=J/2);f.fractions||(H.left=Math.round(H.left),
H.top=Math.round(H.top));var N={left:H.left-M,top:H.top-S};a.each(["left","top"],function(W,L){a.ui.position[u[W]]&&a.ui.position[u[W]][L](H,{targetWidth:D,targetHeight:I,elemWidth:R,elemHeight:J,collisionPosition:N,collisionWidth:T,collisionHeight:U,offset:x,my:k.my,at:k.at})});a.fn.bgiframe&&E.bgiframe();E.offset(a.extend(H,{using:k.using}))})};a.ui.position={fit:{left:function(k,n){var t=a(window);t=n.collisionPosition.left+n.collisionWidth-t.width()-t.scrollLeft();k.left=0<t?k.left-t:Math.max(k.left-
n.collisionPosition.left,k.left)},top:function(k,n){var t=a(window);t=n.collisionPosition.top+n.collisionHeight-t.height()-t.scrollTop();k.top=0<t?k.top-t:Math.max(k.top-n.collisionPosition.top,k.top)}},flip:{left:function(k,n){if("center"!==n.at[0]){var t=a(window);t=n.collisionPosition.left+n.collisionWidth-t.width()-t.scrollLeft();var u="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,x="left"===n.at[0]?n.targetWidth:-n.targetWidth,D=-2*n.offset[0];k.left+=0>n.collisionPosition.left?
u+x+D:0<t?u+x+D:0}},top:function(k,n){if("center"!==n.at[1]){var t=a(window);t=n.collisionPosition.top+n.collisionHeight-t.height()-t.scrollTop();var u="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,x="top"===n.at[1]?n.targetHeight:-n.targetHeight,D=-2*n.offset[1];k.top+=0>n.collisionPosition.top?u+x+D:0<t?u+x+D:0}}}};a.offset.setOffset||(a.offset.setOffset=function(k,n){/static/.test(a.curCSS(k,"position"))&&(k.style.position="relative");var t=a(k),u=t.offset(),x=parseInt(a.curCSS(k,
"top",!0),10)||0,D=parseInt(a.curCSS(k,"left",!0),10)||0;u={top:n.top-u.top+x,left:n.left-u.left+D};"using"in n?n.using.call(k,u):t.css(u)},a.fn.offset=function(k){var n=this[0];return n&&n.ownerDocument?k?a.isFunction(k)?this.each(function(t){a(this).offset(k.call(this,t,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,k)}):l.call(this):null});a.curCSS||(a.curCSS=a.css);(function(){var k=document.getElementsByTagName("body")[0],n=document.createElement("div");var t=document.createElement(k?
"div":"body");var u={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};k&&a.extend(u,{position:"absolute",left:"-1000px",top:"-1000px"});for(var x in u)t.style[x]=u[x];t.appendChild(n);u=k||document.documentElement;u.insertBefore(t,u.firstChild);n.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";n=a(n).offset(function(D,I){return I}).offset();t.innerHTML="";u.removeChild(t);k=n.top+n.left+(k?2E3:0);f.fractions=21<k&&22>k})()})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{minLength:1,delay:300},_create:function(){var b=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:b._move("previousPage",d);break;case f.PAGE_DOWN:b._move("nextPage",d);break;case f.UP:b._move("previous",d);d.preventDefault();
break;case f.DOWN:b._move("next",d);d.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:b.menu.active&&d.preventDefault();case f.TAB:if(!b.menu.active)break;b.menu.select(d);break;case f.ESCAPE:b.element.val(b.term);b.close(d);break;case f.LEFT:case f.RIGHT:case f.SHIFT:case f.CONTROL:case f.ALT:case f.COMMAND:case f.COMMAND_RIGHT:case f.INSERT:case f.CAPS_LOCK:case f.END:case f.HOME:break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.search(null,d)},b.options.delay)}}).bind("focus.autocomplete",
function(){b.selectedItem=null;b.previous=b.element.val()}).bind("blur.autocomplete",function(d){clearTimeout(b.searching);b.closing=setTimeout(function(){b.close(d);b._change(d)},150)});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo("body",c).mousedown(function(){setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(d,f){f=f.item.data("item.autocomplete");!1!==b._trigger("focus",
null,{item:f})&&/^key/.test(d.originalEvent.type)&&b.element.val(f.value)},selected:function(d,f){f=f.item.data("item.autocomplete");!1!==b._trigger("select",d,{item:f})&&b.element.val(f.value);b.close(d);d=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=d);b.selectedItem=f},blur:function(){b.menu.element.is(":visible")&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");
this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(b){a.Widget.prototype._setOption.apply(this,arguments);"source"===b&&this._initSource()},_initSource:function(){if(a.isArray(this.options.source)){var b=this.options.source;this.source=function(d,f){f(a.ui.autocomplete.filter(b,d.term))}}else if("string"===typeof this.options.source){var c=this.options.source;this.source=function(d,f){a.getJSON(c,d,f)}}else this.source=this.options.source},search:function(b,c){b=
null!=b?b:this.element.val();if(b.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(!1!==this._trigger("search"))return this._search(b)},_search:function(b){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:b},this.response)},_response:function(b){b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing);this.menu.element.is(":visible")&&
(this._trigger("close",b),this.menu.element.hide(),this.menu.deactivate())},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(c){return"string"===typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b);this.menu.deactivate();
this.menu.refresh();this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});b=c.width("").width();var d=this.element.width();c.width(Math.max(b,d))},_renderMenu:function(b,c){var d=this;a.each(c,function(f,g){d._renderItem(b,g)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)},_move:function(b,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(b)||this.menu.last()&&
/^next/.test(b))this.element.val(this.term),this.menu.deactivate();else this.menu[b](c);else this.search(null,c)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(f){return d.test(f.label||f.value||f)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(b,c){this.deactivate();if(this.hasScroll()){var d=c.offset().top-this.element.offset().top,f=this.element.attr("scrollTop"),g=this.element.height();0>d?this.element.attr("scrollTop",f+d):d>g&&this.element.attr("scrollTop",f+d-g+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",b,{item:c})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(b,c,d){this.active?(b=this.active[b+"All"](".ui-menu-item").eq(0),b.length?this.activate(d,b):this.activate(d,this.element.children(c))):
this.activate(d,this.element.children(c))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(":first"));else{var c=this.active.offset().top,d=this.element.height(),f=this.element.children("li").filter(function(){var g=a(this).offset().top-c-d+a(this).height();return 10>g&&-10<g});f.length||(f=this.element.children(":last"));this.activate(b,f)}else this.activate(b,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||
this.first())this.activate(b,this.element.children(":last"));else{var c=this.active.offset().top,d=this.element.height();result=this.element.children("li").filter(function(){var f=a(this).offset().top-c+d-a(this).height();return 10>f&&-10<f});result.length||(result=this.element.children(":first"));this.activate(b,result)}else this.activate(b,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",
b,{item:this.active})}})})(jQuery);(function(a){a.iButton={version:"1.0.03",setDefaults:function(l){a.extend(d,l)}};a.fn.iButton=function(l){var k="string"==typeof arguments[0]&&arguments[0],n=k&&Array.prototype.slice.call(arguments,1)||arguments,t=0==this.length?null:a.data(this[0],"iButton");if(t&&k&&this.length){if("object"==k.toLowerCase())return t;if(t[k]){var u;this.each(function(x){var D=a.data(this,"iButton")[k].apply(t,n);if(0==x&&D)if(D.jquery)u=a([]).add(D);else return u=D,!1;else D&&D.jquery&&(u=u.add(D))});return u||this}return this}return this.each(function(){new c(this,
l)})};var b=0;a.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var c=function(l,k){var n=this,t=a(l),u=++b,x=!1,D=!1,I=null,G=null,E=null,R=null;k=a.extend({},d,k,a.metadata?t.metadata():{});l=k.labelOn==f&&k.labelOff==g;if(!t.is(":checkbox, :radio"))return t.find(":checkbox, :radio").iButton(k);if(!a.data(t[0],"iButton")){a.data(t[0],"iButton",n);"auto"==k.resizeHandle&&(k.resizeHandle=!l);"auto"==k.resizeContainer&&(k.resizeContainer=!l);this.toggle=function(A){t.attr("checked",
0<arguments.length?A:!t[0].checked).trigger("change")};this.disable=function(A){var K=0<arguments.length?A:!x;x=K;t.attr("disabled",K);J[K?"addClass":"removeClass"](k.classDisabled);a.isFunction(k.disable)&&k.disable.apply(n,[x,t,k])};this.repaint=function(){Z()};this.destroy=function(){a([t[0],J[0]]).unbind(".iButton");a(document).unbind(".iButton_"+u);J.after(t).remove();a.data(t[0],"iButton",null);a.isFunction(k.destroy)&&k.destroy.apply(n,[t,k])};t.wrap('<div class="'+a.trim(k.classContainer+
" "+k.className)+'" />').after('<div class="'+k.classHandle+'"><div class="'+k.classHandleRight+'"><div class="'+k.classHandleMiddle+'" /></div></div><div class="'+k.classLabelOff+'"><span><label>'+k.labelOff+'</label></span></div><div class="'+k.classLabelOn+'"><span><label>'+k.labelOn+'</label></span></div><div class="'+k.classPaddingLeft+'"></div><div class="'+k.classPaddingRight+'"></div>');var J=t.parent(),M=t.siblings("."+k.classHandle),S=t.siblings("."+k.classLabelOff),T=S.children("span"),
U=t.siblings("."+k.classLabelOn),H=U.children("span");if(k.resizeHandle||k.resizeContainer){var N=H.outerWidth();var W=T.outerWidth()}k.resizeHandle?(l=Math.min(N,W),M.css("width",l)):l=M.width();k.resizeContainer?(N=Math.max(N,W)+l+20,J.css("width",N),S.css("width",N-5)):N=J.width();var L=N-l-6,Z=function(A){var K=t[0].checked?L:0;(A=0<arguments.length?arguments[0]:!0)&&k.enableFx?(M.stop().animate({left:K},k.duration,k.easing),U.stop().animate({width:K+4},k.duration,k.easing),H.stop().animate({marginLeft:K-
L},k.duration,k.easing),T.stop().animate({marginRight:-K},k.duration,k.easing)):(M.css("left",K),U.css("width",K+4),H.css("marginLeft",K-L),T.css("marginRight",-K))};Z(!1);var aa=function(A){return A.pageX||(A.originalEvent.changedTouches?A.originalEvent.changedTouches[0].pageX:0)};J.bind("mousedown.iButton touchstart.iButton",function(A){if(!(a(A.target).is(":checkbox, :radio")||x||!k.allowRadioUncheck&&t.is(":radio:checked")))return A.preventDefault(),I=M,G=aa(A),E=G-(parseInt(M.css("left"),10)||
0),R=(new Date).getTime(),!1});k.enableDrag&&a(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(A){if(I==M)return A.preventDefault(),A=aa(A),A!=E&&(D=!0,J.addClass(k.classHandleActive)),A=Math.min(1,Math.max(0,(A-E)/L)),M.css("left",A*L),U.css("width",A*L+4),T.css("marginRight",-A*L),H.css("marginLeft",-(1-A)*L),!1});a(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(A){if(I==M){A.preventDefault();var K=!0;!D||(new Date).getTime()-R<k.clickOffset?(A=t[0].checked,
t.attr("checked",!A),a.isFunction(k.click)&&k.click.apply(n,[!A,t,k])):(A=.5<=(aa(A)-E)/L,t[0].checked==A&&(K=!1),t.attr("checked",A));J.removeClass(k.classHandleActive);D=I=null;K?t.trigger("change"):Z();return!1}});t.bind("change.iButton",function(){Z();if(t.is(":radio")){var A=t[0];a(A.form?A.form[A.name]:":radio[name="+A.name+"]").filter(":not(:checked)").iButton("repaint")}a.isFunction(k.change)&&k.change.apply(n,[t,k])}).bind("focus.iButton",function(){J.addClass(k.classFocus)}).bind("blur.iButton",
function(){J.removeClass(k.classFocus)});a.isFunction(k.click)&&t.bind("click.iButton",function(){k.click.apply(n,[t[0].checked,t,k])});t.is(":disabled")&&this.disable(!0);a.browser.msie&&(J.find("*").andSelf().attr("unselectable","on"),t.bind("click.iButton",function(){t.triggerHandler("change.iButton")}));a.isFunction(k.init)&&k.init.apply(n,[t,k])}},d={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},f=d.labelOn,g=d.labelOff})(jQuery);(function(a){a.fn.farbtastic=function(b){a.farbtastic(this,b);return this};a.farbtastic=function(b,c){b=a(b).get(0);return b.farbtastic||(b.farbtastic=new a._farbtastic(b,c))};a._farbtastic=function(b,c){var d=this;a(b).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var f=a(".farbtastic",b);d.wheel=a(".wheel",b).get(0);d.radius=84;d.square=100;d.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
a("*",f).each(function(){if("none"!=this.currentStyle.backgroundImage){var g=this.currentStyle.backgroundImage;g=this.currentStyle.backgroundImage.substring(5,g.length-2);a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+g+"')"})}});d.linkTo=function(g){"object"==typeof d.callback&&a(d.callback).unbind("keyup",d.updateValue);d.color=null;if("function"==typeof g)d.callback=g;else if("object"==typeof g||"string"==typeof g)d.callback=
a(g),d.callback.bind("keyup",d.updateValue),d.callback.get(0).value&&d.setColor(d.callback.get(0).value);return this};d.updateValue=function(){this.value&&this.value!=d.color&&d.setColor(this.value)};d.setColor=function(g){var l=d.unpack(g);d.color!=g&&l&&(d.color=g,d.rgb=l,d.hsl=d.RGBToHSL(d.rgb),d.updateDisplay());return this};d.setHSL=function(g){d.hsl=g;d.rgb=d.HSLToRGB(g);d.color=d.pack(d.rgb);d.updateDisplay();return this};d.widgetCoords=function(g){var l=a(d.wheel).offset();return{x:g.pageX-
l.left-d.width/2,y:g.pageY-l.top-d.width/2}};d.mousedown=function(g){document.dragging||(a(document).bind("mousemove",d.mousemove).bind("mouseup",d.mouseup),document.dragging=!0);var l=d.widgetCoords(g);d.circleDrag=2*Math.max(Math.abs(l.x),Math.abs(l.y))>d.square;d.mousemove(g);return!1};d.mousemove=function(g){g=d.widgetCoords(g);d.circleDrag?(g=Math.atan2(g.x,-g.y)/6.28,0>g&&(g+=1),d.setHSL([g,d.hsl[1],d.hsl[2]])):d.setHSL([d.hsl[0],Math.max(0,Math.min(1,-(g.x/d.square)+.5)),Math.max(0,Math.min(1,
-(g.y/d.square)+.5))]);return!1};d.mouseup=function(){a(document).unbind("mousemove",d.mousemove);a(document).unbind("mouseup",d.mouseup);document.dragging=!1};d.updateDisplay=function(){var g=6.28*d.hsl[0];a(".h-marker",f).css({left:Math.round(Math.sin(g)*d.radius+d.width/2)+"px",top:Math.round(-Math.cos(g)*d.radius+d.width/2)+"px"});a(".sl-marker",f).css({left:Math.round(d.square*(.5-d.hsl[1])+d.width/2)+"px",top:Math.round(d.square*(.5-d.hsl[2])+d.width/2)+"px"});a(".color",f).css("backgroundColor",
d.pack(d.HSLToRGB([d.hsl[0],1,.5])));"object"==typeof d.callback?(a(d.callback).css({backgroundColor:d.color,color:.5<d.hsl[2]?"#000":"#fff"}),a(d.callback).each(function(){this.value&&this.value!=d.color&&(this.value=d.color)})):"function"==typeof d.callback&&d.callback.call(d,d.color)};d.pack=function(g){var l=Math.round(255*g[0]),k=Math.round(255*g[1]);g=Math.round(255*g[2]);return"#"+(16>l?"0":"")+l.toString(16)+(16>k?"0":"")+k.toString(16)+(16>g?"0":"")+g.toString(16)};d.unpack=function(g){if(7==
g.length)return[parseInt("0x"+g.substring(1,3))/255,parseInt("0x"+g.substring(3,5))/255,parseInt("0x"+g.substring(5,7))/255];if(4==g.length)return[parseInt("0x"+g.substring(1,2))/15,parseInt("0x"+g.substring(2,3))/15,parseInt("0x"+g.substring(3,4))/15]};d.HSLToRGB=function(g){var l=g[0];var k=g[1];g=g[2];k=.5>=g?g*(k+1):g+k-g*k;g=2*g-k;return[this.hueToRGB(g,k,l+.33333),this.hueToRGB(g,k,l),this.hueToRGB(g,k,l-.33333)]};d.hueToRGB=function(g,l,k){k=0>k?k+1:1<k?k-1:k;return 1>6*k?g+(l-g)*k*6:1>2*k?
l:2>3*k?g+(l-g)*(.66666-k)*6:g};d.RGBToHSL=function(g){var l=g[0],k=g[1],n=g[2];var t=Math.min(l,Math.min(k,n));g=Math.max(l,Math.max(k,n));var u=g-t;var x=(t+g)/2;var D=0;0<x&&1>x&&(D=u/(.5>x?2*x:2-2*x));t=0;0<u&&(g==l&&g!=k&&(t+=(k-n)/u),g==k&&g!=n&&(t+=2+(n-l)/u),g==n&&g!=l&&(t+=4+(l-k)/u),t/=6);return[t,D,x]};a("*",f).mousedown(d.mousedown);d.setColor("#000000");c&&d.linkTo(c)}})(jQuery);(function(a){var b=[],c=[];a.fn.doAutosize=function(d){var f=a(this).data("minwidth"),g=a(this).data("maxwidth"),l="",k=a(this),n=a("#"+a(this).data("tester_id"));l!==(l=k.val())&&(l=l.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),n.html(l),n=n.width(),d=n+d.comfortZone>=f?n+d.comfortZone:f,n=k.width(),(d<n&&d>=f||d>f&&d<g)&&k.width(d))};a.fn.resetAutosize=function(d){var f=a(this).data("minwidth")||d.minInputWidth||a(this).width();d=a(this).data("maxwidth")||d.maxInputWidth||
a(this).closest(".tagsinput").width()-d.inputPadding;var g=a(this),l=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:g.css("fontSize"),fontFamily:g.css("fontFamily"),fontWeight:g.css("fontWeight"),letterSpacing:g.css("letterSpacing"),whiteSpace:"nowrap"}),k=a(this).attr("id")+"_autosize_tester";0< !a("#"+k).length&&(l.attr("id",k),l.appendTo("body"));g.data("minwidth",f);g.data("maxwidth",d);g.data("tester_id",k);g.css("width",f)};a.fn.addTag=function(d,f){f=jQuery.extend({focus:!1,
callback:!0},f);this.each(function(){var g=a(this).attr("id"),l=a(this).val().split(b[g]);""==l[0]&&(l=[]);d=jQuery.trim(d);if(f.unique){var k=a(l).tagExist(d);1==k&&a("#"+g+"_tag").addClass("not_valid")}else k=!1;if(""!=d&&1!=k&&(a("<span>").addClass("tag").append(a("<span>").text(d).append("\u00a0\u00a0"),a("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return a("#"+g).removeTag(escape(d))})).insertBefore("#"+g+"_addTag"),l.push(d),a("#"+g+"_tag").val(""),f.focus?a("#"+g+"_tag").focus():
a("#"+g+"_tag").blur(),a.fn.tagsInput.updateTagsField(this,l),f.callback&&c[g]&&c[g].onAddTag&&(k=c[g].onAddTag,k.call(this,d)),c[g]&&c[g].onChange)){var n=l.length;k=c[g].onChange;k.call(this,a(this),l[n-1])}});return!1};a.fn.removeTag=function(d){d=unescape(d);this.each(function(){var f=a(this).attr("id"),g=a(this).val().split(b[f]);a("#"+f+"_tagsinput .tag").remove();str="";for(var l=0;l<g.length;l++)g[l]!=d&&(str=str+b[f]+g[l]);a.fn.tagsInput.importTags(this,str);c[f]&&c[f].onRemoveTag&&c[f].onRemoveTag.call(this,
d)});return!1};a.fn.tagExist=function(d){return 0<=jQuery.inArray(d,a(this))};a.fn.importTags=function(d){id=a(this).attr("id");a("#"+id+"_tagsinput .tag").remove();a.fn.tagsInput.importTags(this,d)};a.fn.tagsInput=function(d){var f=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},d);this.each(function(){f.hide&&
a(this).hide();var g=a(this).attr("id"),l=jQuery.extend({pid:g,real_input:"#"+g,holder:"#"+g+"_tagsinput",input_wrapper:"#"+g+"_addTag",fake_input:"#"+g+"_tag"},f);b[g]=l.delimiter;if(f.onAddTag||f.onRemoveTag||f.onChange)c[g]=[],c[g].onAddTag=f.onAddTag,c[g].onRemoveTag=f.onRemoveTag,c[g].onChange=f.onChange;var k='<div id="'+g+'_tagsinput" class="tagsinput"><div id="'+g+'_addTag">';f.interactive&&(k=k+'<input id="'+g+'_tag" value="" data-default="'+f.defaultText+'" />');a(k+'</div><div class="tags_clear"></div></div>').insertAfter(this);
a(l.holder).css("width",f.width);a(l.holder).css("height",f.height);""!=a(l.real_input).val()&&a.fn.tagsInput.importTags(a(l.real_input),a(l.real_input).val());if(f.interactive){a(l.fake_input).val(a(l.fake_input).attr("data-default"));a(l.fake_input).css("color",f.placeholderColor);a(l.fake_input).resetAutosize(f);a(l.holder).bind("click",l,function(n){a(n.data.fake_input).focus()});a(l.fake_input).bind("focus",l,function(n){a(n.data.fake_input).val()==a(n.data.fake_input).attr("data-default")&&
a(n.data.fake_input).val("");a(n.data.fake_input).css("color","#000000")});if(void 0!=f.autocomplete_url){autocomplete_options={source:f.autocomplete_url};for(attrname in f.autocomplete)autocomplete_options[attrname]=f.autocomplete[attrname];void 0!==jQuery.Autocompleter?(a(l.fake_input).autocomplete(f.autocomplete_url,f.autocomplete),a(l.fake_input).bind("result",l,function(n,t,u){t&&a("#"+g).addTag(t[0]+"",{focus:!0,unique:f.unique})})):void 0!==jQuery.ui.autocomplete&&(a(l.fake_input).autocomplete(autocomplete_options),
a(l.fake_input).bind("autocompleteselect",l,function(n,t){a(n.data.real_input).addTag(t.item.value,{focus:!0,unique:f.unique});return!1}))}else a(l.fake_input).bind("blur",l,function(n){var t=a(this).attr("data-default");""!=a(n.data.fake_input).val()&&a(n.data.fake_input).val()!=t?n.data.minChars<=a(n.data.fake_input).val().length&&(!n.data.maxChars||n.data.maxChars>=a(n.data.fake_input).val().length)&&a(n.data.real_input).addTag(a(n.data.fake_input).val(),{focus:!0,unique:f.unique}):(a(n.data.fake_input).val(a(n.data.fake_input).attr("data-default")),
a(n.data.fake_input).css("color",f.placeholderColor));return!1});a(l.fake_input).bind("keypress",l,function(n){if(n.which==n.data.delimiter.charCodeAt(0)||13==n.which)return n.preventDefault(),n.data.minChars<=a(n.data.fake_input).val().length&&(!n.data.maxChars||n.data.maxChars>=a(n.data.fake_input).val().length)&&a(n.data.real_input).addTag(a(n.data.fake_input).val(),{focus:!0,unique:f.unique}),a(n.data.fake_input).resetAutosize(f),!1;n.data.autosize&&a(n.data.fake_input).doAutosize(f)});l.removeWithBackspace&&
a(l.fake_input).bind("keydown",function(n){if(8==n.keyCode&&""==a(this).val()){n.preventDefault();n=a(this).closest(".tagsinput").find(".tag:last").text();var t=a(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,"");a("#"+t).removeTag(escape(n));a(this).trigger("focus")}});a(l.fake_input).blur();l.unique&&a(l.fake_input).keydown(function(n){(8==n.keyCode||String.fromCharCode(n.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&a(this).removeClass("not_valid")})}return!1});
return this};a.fn.tagsInput.updateTagsField=function(d,f){var g=a(d).attr("id");a(d).val(f.join(b[g]))};a.fn.tagsInput.importTags=function(d,f){a(d).val("");var g=a(d).attr("id");f=f.split(b[g]);for(var l=0;l<f.length;l++)a(d).addTag(f[l],{focus:!1,callback:!1});c[g]&&c[g].onChange&&c[g].onChange.call(d,d,f[l])}})(jQuery);(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Popper=b()})(this,function(){function a(e){return e&&"[object Function]"==={}.toString.call(e)}function b(e,h){if(1!==e.nodeType)return[];e=e.ownerDocument.defaultView.getComputedStyle(e,null);return h?e[h]:e}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function d(e){if(!e)return document.body;switch(e.nodeName){case "HTML":case "BODY":return e.ownerDocument.body;
case "#document":return e.body}var h=b(e);return/(auto|scroll|overlay)/.test(h.overflow+h.overflowY+h.overflowX)?e:d(c(e))}function f(e){return 11===e?ia:10===e?ja:ia||ja}function g(e){if(!e)return document.documentElement;for(var h=f(10)?document.body:null,m=e.offsetParent||null;m===h&&e.nextElementSibling;)m=(e=e.nextElementSibling).offsetParent;return(h=m&&m.nodeName)&&"BODY"!==h&&"HTML"!==h?-1!==["TH","TD","TABLE"].indexOf(m.nodeName)&&"static"===b(m,"position")?g(m):m:e?e.ownerDocument.documentElement:
document.documentElement}function l(e){return null===e.parentNode?e:l(e.parentNode)}function k(e,h){if(!(e&&e.nodeType&&h&&h.nodeType))return document.documentElement;var m=e.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_FOLLOWING,p=m?e:h;m=m?h:e;var q=document.createRange();q.setStart(p,0);q.setEnd(m,0);q=q.commonAncestorContainer;if(e!==q&&h!==q||p.contains(m))return e=q.nodeName,"BODY"===e||"HTML"!==e&&g(q.firstElementChild)!==q?g(q):q;p=l(e);return p.host?k(p.host,h):k(e,l(h).host)}function n(e){var h=
"top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",m=e.nodeName;return"BODY"===m||"HTML"===m?(m=e.ownerDocument.documentElement,(e.ownerDocument.scrollingElement||m)[h]):e[h]}function t(e,h){var m=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=n(h,"top"),q=n(h,"left");m=m?-1:1;return e.top+=p*m,e.bottom+=p*m,e.left+=q*m,e.right+=q*m,e}function u(e,h){h="x"===h?"Left":"Top";var m="Left"==h?"Right":"Bottom";return parseFloat(e["border"+h+"Width"],
10)+parseFloat(e["border"+m+"Width"],10)}function x(e,h,m,p){return V(h["offset"+e],h["scroll"+e],m["client"+e],m["offset"+e],m["scroll"+e],f(10)?parseInt(m["offset"+e])+parseInt(p["margin"+("Height"===e?"Top":"Left")])+parseInt(p["margin"+("Height"===e?"Bottom":"Right")]):0)}function D(e){var h=e.body;e=e.documentElement;var m=f(10)&&getComputedStyle(e);return{height:x("Height",h,e,m),width:x("Width",h,e,m)}}function I(e){return Q({},e,{right:e.left+e.width,bottom:e.top+e.height})}function G(e){var h=
{};try{if(f(10)){h=e.getBoundingClientRect();var m=n(e,"top"),p=n(e,"left");h.top+=m;h.left+=p;h.bottom+=m;h.right+=p}else h=e.getBoundingClientRect()}catch(q){}h={left:h.left,top:h.top,width:h.right-h.left,height:h.bottom-h.top};p="HTML"===e.nodeName?D(e.ownerDocument):{};m=e.offsetWidth-(p.width||e.clientWidth||h.right-h.left);p=e.offsetHeight-(p.height||e.clientHeight||h.bottom-h.top);if(m||p)e=b(e),m-=u(e,"x"),p-=u(e,"y"),h.width-=m,h.height-=p;return I(h)}function E(e,h){var m=2<arguments.length&&
void 0!==arguments[2]&&arguments[2],p=f(10),q="HTML"===h.nodeName,r=G(e),v=G(h),w=d(e),y=b(h),z=parseFloat(y.borderTopWidth,10),B=parseFloat(y.borderLeftWidth,10);m&&q&&(v.top=V(v.top,0),v.left=V(v.left,0));r=I({top:r.top-v.top-z,left:r.left-v.left-B,width:r.width,height:r.height});if(r.marginTop=0,r.marginLeft=0,!p&&q)q=parseFloat(y.marginTop,10),y=parseFloat(y.marginLeft,10),r.top-=z-q,r.bottom-=z-q,r.left-=B-y,r.right-=B-y,r.marginTop=q,r.marginLeft=y;return(p&&!m?h.contains(w):h===w&&"BODY"!==
w.nodeName)&&(r=t(r,h)),r}function R(e){var h=1<arguments.length&&void 0!==arguments[1]&&arguments[1],m=e.ownerDocument.documentElement,p=E(e,m),q=V(m.clientWidth,window.innerWidth||0),r=V(m.clientHeight,window.innerHeight||0),v=h?0:n(m);h=h?0:n(m,"left");return I({top:v-p.top+p.marginTop,left:h-p.left+p.marginLeft,width:q,height:r})}function J(e){var h=e.nodeName;if("BODY"===h||"HTML"===h)return!1;if("fixed"===b(e,"position"))return!0;e=c(e);return!!e&&J(e)}function M(e){if(!e||!e.parentElement||
f())return document.documentElement;for(e=e.parentElement;e&&"none"===b(e,"transform");)e=e.parentElement;return e||document.documentElement}function S(e,h,m,p){var q=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},v=q?M(e):k(e,h);if("viewport"===p)r=R(v,q);else{var w;"scrollParent"===p?(w=d(c(h)),"BODY"===w.nodeName&&(w=e.ownerDocument.documentElement)):"window"===p?w=e.ownerDocument.documentElement:w=p;q=E(w,v,q);"HTML"!==w.nodeName||J(v)?r=q:(w=D(e.ownerDocument),v=w.height,
w=w.width,r.top+=q.top-q.marginTop,r.bottom=v+q.top,r.left+=q.left-q.marginLeft,r.right=w+q.left)}m=m||0;q="number"==typeof m;return r.left+=q?m:m.left||0,r.top+=q?m:m.top||0,r.right-=q?m:m.right||0,r.bottom-=q?m:m.bottom||0,r}function T(e,h,m,p,q){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;r=S(m,p,r,q);var v={top:{width:r.width,height:h.top-r.top},right:{width:r.right-h.right,height:r.height},bottom:{width:r.width,height:r.bottom-h.bottom},left:{width:h.left-
r.left,height:r.height}};r=Object.keys(v).map(function(y){var z=v[y];return Q({key:y},v[y],{area:z.width*z.height})}).sort(function(y,z){return z.area-y.area});var w=r.filter(function(y){var z=y.height;return y.width>=m.clientWidth&&z>=m.clientHeight});r=0<w.length?w[0].key:r[0].key;w=e.split("-")[1];return r+(w?"-"+w:"")}function U(e,h,m){var p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,q=p?M(h):k(h,m);return E(m,q,p)}function H(e){var h=e.ownerDocument.defaultView.getComputedStyle(e),
m=parseFloat(h.marginTop||0)+parseFloat(h.marginBottom||0);h=parseFloat(h.marginLeft||0)+parseFloat(h.marginRight||0);return{width:e.offsetWidth+h,height:e.offsetHeight+m}}function N(e){var h={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(m){return h[m]})}function W(e,h,m){m=m.split("-")[0];e=H(e);var p={width:e.width,height:e.height},q=-1!==["right","left"].indexOf(m),r=q?"top":"left",v=q?"left":"top",w=q?"height":"width";return p[r]=h[r]+
h[w]/2-e[w]/2,p[v]=m===v?h[v]-e[q?"width":"height"]:h[N(v)],p}function L(e,h){return Array.prototype.find?e.find(h):e.filter(h)[0]}function Z(e,h,m){if(Array.prototype.findIndex)return e.findIndex(function(q){return q[h]===m});var p=L(e,function(q){return q[h]===m});return e.indexOf(p)}function aa(e,h,m){return(void 0===m?e:e.slice(0,Z(e,"name",m))).forEach(function(p){p["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var q=p["function"]||p.fn;p.enabled&&a(q)&&(h.offsets.popper=
I(h.offsets.popper),h.offsets.reference=I(h.offsets.reference),h=q(h,p))}),h}function A(e,h){return e.some(function(m){var p=m.name;return m.enabled&&p===h})}function K(e){for(var h=[!1,"ms","Webkit","Moz","O"],m=e.charAt(0).toUpperCase()+e.slice(1),p=0;p<h.length;p++){var q=h[p];q=q?""+q+m:e;if("undefined"!=typeof document.body.style[q])return q}return null}function ka(e){return(e=e.ownerDocument)?e.defaultView:window}function la(e,h,m,p){var q="BODY"===e.nodeName;e=q?e.ownerDocument.defaultView:
e;e.addEventListener(h,m,{passive:!0});q||la(d(e.parentNode),h,m,p);p.push(e)}function ra(e,h){return ka(e).removeEventListener("resize",h.updateBound),h.scrollParents.forEach(function(m){m.removeEventListener("scroll",h.updateBound)}),h.updateBound=null,h.scrollParents=[],h.scrollElement=null,h.eventsEnabled=!1,h}function ca(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function da(e,h){Object.keys(h).forEach(function(m){var p="";-1!=="width height top right bottom left".split(" ").indexOf(m)&&
ca(h[m])&&(p="px");e.style[m]=h[m]+p})}function sa(e,h){Object.keys(h).forEach(function(m){!1===h[m]?e.removeAttribute(m):e.setAttribute(m,h[m])})}function ta(e,h){var m=e.offsets,p=m.popper,q=ma,r=function(y){return y};m=q(m.reference.width);var v=q(p.width),w=-1!==["left","right"].indexOf(e.placement);e=-1!==e.placement.indexOf("-");w=h?w||e||m%2==v%2?q:ea:r;q=h?q:r;return{left:w(1==m%2&&1==v%2&&!e&&h?p.left-1:p.left),top:q(p.top),bottom:q(p.bottom),right:w(p.right)}}function na(e,h,m){var p=L(e,
function(r){return r.name===h});e=!!p&&e.some(function(r){return r.name===m&&r.enabled&&r.order<p.order});if(!e){var q="`"+h+"`";console.warn("`"+m+"` modifier is required by "+q+" modifier in order to work, be sure to include it before "+q+"!")}return e}function oa(e){var h=1<arguments.length&&void 0!==arguments[1]&&arguments[1],m=fa.indexOf(e);m=fa.slice(m+1).concat(fa.slice(0,m));return h?m.reverse():m}function ua(e,h,m,p){var q=[0,0],r=-1!==["right","left"].indexOf(p);e=e.split(/(\+|\-)/).map(function(w){return w.trim()});
p=e.indexOf(L(e,function(w){return-1!==w.search(/,|\s/)}));e[p]&&-1===e[p].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var v=/\s*,\s*|\s+/;e=-1===p?[e]:[e.slice(0,p).concat([e[p].split(v)[0]]),[e[p].split(v)[1]].concat(e.slice(p+1))];return e=e.map(function(w,y){var z=(1===y?!r:r)?"height":"width",B=!1;return w.reduce(function(C,F){return""===C[C.length-1]&&-1!==["+","-"].indexOf(F)?(C[C.length-1]=F,B=!0,C):B?(C[C.length-1]+=F,B=!1,C):
C.concat(F)},[]).map(function(C){var F=C.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var O=+F[1];F=F[2];if(O)if(0===F.indexOf("%")){switch(F){case "%p":var P=h;break;default:P=m}O*=I(P)[z]/100}else{if("vh"===F||"vw"===F)O=(P="vh"===F?V(document.documentElement.clientHeight,window.innerHeight||0):V(document.documentElement.clientWidth,window.innerWidth||0),P/100*O)}else O=C;return O})}),e.forEach(function(w,y){w.forEach(function(z,B){ca(z)&&(q[y]+=z*("-"===w[B-1]?-1:1))})}),q}for(var pa=Math.min,ea=Math.floor,
ma=Math.round,V=Math.max,X="undefined"!=typeof window&&"undefined"!=typeof document,Y=["Edge","Trident","Firefox"],qa=0,ha=0;ha<Y.length;ha+=1)if(X&&0<=navigator.userAgent.indexOf(Y[ha])){qa=1;break}var va=X&&window.Promise?function(e){var h=!1;return function(){h||(h=!0,window.Promise.resolve().then(function(){h=!1;e()}))}}:function(e){var h=!1;return function(){h||(h=!0,setTimeout(function(){h=!1;e()},qa))}},ia=X&&!(!window.MSInputMethodContext||!document.documentMode),ja=X&&/MSIE 10/.test(navigator.userAgent),
wa=function(){function e(h,m){for(var p,q=0;q<m.length;q++)p=m[q],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}return function(h,m,p){return m&&e(h.prototype,m),p&&e(h,p),h}}(),ba=function(e,h,m){return h in e?Object.defineProperty(e,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):e[h]=m,e},Q=Object.assign||function(e){for(var h,m=1;m<arguments.length;m++)for(var p in h=arguments[m],h)Object.prototype.hasOwnProperty.call(h,p)&&
(e[p]=h[p]);return e},xa=X&&/Firefox/i.test(navigator.userAgent);X="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" ");var fa=X.slice(3);Y=function(){function e(h,m){var p=this,q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(p.update)};this.update=va(this.update.bind(this));
this.options=Q({},e.Defaults,q);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=h&&h.jquery?h[0]:h;this.popper=m&&m.jquery?m[0]:m;this.options.modifiers={};Object.keys(Q({},e.Defaults.modifiers,q.modifiers)).forEach(function(v){p.options.modifiers[v]=Q({},e.Defaults.modifiers[v]||{},q.modifiers?q.modifiers[v]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(v){return Q({name:v},p.options.modifiers[v])}).sort(function(v,w){return v.order-w.order});this.modifiers.forEach(function(v){v.enabled&&
a(v.onLoad)&&v.onLoad(p.reference,p.popper,p.options,v,p.state)});this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners();this.state.eventsEnabled=r}return wa(e,[{key:"update",value:function(){if(!this.state.isDestroyed){var h={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};h.offsets.reference=U(this.state,this.popper,this.reference,this.options.positionFixed);h.placement=T(this.options.placement,h.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,
this.options.modifiers.flip.padding);h.originalPlacement=h.placement;h.positionFixed=this.options.positionFixed;h.offsets.popper=W(this.popper,h.offsets.reference,h.placement);h.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";h=aa(this.modifiers,h);this.state.isCreated?this.options.onUpdate(h):(this.state.isCreated=!0,this.options.onCreate(h))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,A(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),
this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[K("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var h=this.reference,m=this.state;m.updateBound=this.scheduleUpdate;ka(h).addEventListener("resize",m.updateBound,
{passive:!0});h=d(h);this.state=(la(h,"scroll",m.updateBound,m.scrollParents),m.scrollElement=h,m.eventsEnabled=!0,m)}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=ra(this.reference,this.state))}}]),e}();return Y.Utils=("undefined"==typeof window?global:window).PopperUtils,Y.placements=X,Y.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,
enabled:!0,fn:function(e){var h=e.placement,m=h.split("-")[0];if(h=h.split("-")[1]){var p=e.offsets,q=p.reference;p=p.popper;var r=-1!==["bottom","top"].indexOf(m);m=r?"left":"top";r=r?"width":"height";q={start:ba({},m,q[m]),end:ba({},m,q[m]+q[r]-p[r])};e.offsets.popper=Q({},p,q[h])}return e}},offset:{order:200,enabled:!0,fn:function(e,h){var m;h=h.offset;var p=e.offsets,q=p.popper;p=p.reference;var r=e.placement.split("-")[0];return m=ca(+h)?[+h,0]:ua(h,q,p,r),"left"===r?(q.top+=m[0],q.left-=m[1]):
"right"===r?(q.top+=m[0],q.left+=m[1]):"top"===r?(q.left+=m[0],q.top-=m[1]):"bottom"===r&&(q.left+=m[0],q.top+=m[1]),e.popper=q,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,h){var m=h.boundariesElement||g(e.instance.popper);e.instance.reference===m&&(m=g(m));var p=K("transform"),q=e.instance.popper.style,r=q.top,v=q.left,w=q[p];q.top="";q.left="";q[p]="";var y=S(e.instance.popper,e.instance.reference,h.padding,m,e.positionFixed);q.top=r;q.left=v;q[p]=w;h.boundaries=y;var z=e.offsets.popper,
B={primary:function(C){var F=z[C];return z[C]<y[C]&&!h.escapeWithReference&&(F=V(z[C],y[C])),ba({},C,F)},secondary:function(C){var F="right"===C?"left":"top",O=z[F];return z[C]>y[C]&&!h.escapeWithReference&&(O=pa(z[F],y[C]-("right"===C?z.width:z.height))),ba({},F,O)}};return h.priority.forEach(function(C){var F=-1===["left","top"].indexOf(C)?"secondary":"primary";z=Q({},z,B[F](C))}),e.offsets.popper=z,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,
enabled:!0,fn:function(e){var h=e.offsets,m=h.popper;h=h.reference;var p=e.placement.split("-")[0],q=ea,r=-1!==["top","bottom"].indexOf(p);p=r?"right":"bottom";var v=r?"left":"top";r=r?"width":"height";return m[p]<q(h[v])&&(e.offsets.popper[v]=q(h[v])-m[r]),m[v]>q(h[p])&&(e.offsets.popper[v]=q(h[p])),e}},arrow:{order:500,enabled:!0,fn:function(e,h){var m;if(!na(e.instance.modifiers,"arrow","keepTogether"))return e;h=h.element;if("string"==typeof h){if(h=e.instance.popper.querySelector(h),!h)return e}else if(!e.instance.popper.contains(h))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
e;var p=e.placement.split("-")[0],q=e.offsets,r=q.popper,v=q.reference,w=-1!==["left","right"].indexOf(p);p=w?"height":"width";var y=w?"Top":"Left";q=y.toLowerCase();var z=w?"left":"top",B=w?"bottom":"right";w=H(h)[p];v[B]-w<r[q]&&(e.offsets.popper[q]-=r[q]-(v[B]-w));v[q]+w>r[B]&&(e.offsets.popper[q]+=v[q]+w-r[B]);e.offsets.popper=I(e.offsets.popper);v=v[q]+v[p]/2-w/2;var C=b(e.instance.popper);B=parseFloat(C["margin"+y],10);y=parseFloat(C["border"+y+"Width"],10);y=v-e.offsets.popper[q]-B-y;return y=
V(pa(r[p]-w,y),0),e.arrowElement=h,e.offsets.arrow=(m={},ba(m,q,ma(y)),ba(m,z,""),m),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,h){if(A(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var m=S(e.instance.popper,e.instance.reference,h.padding,h.boundariesElement,e.positionFixed),p=e.placement.split("-")[0],q=N(p),r=e.placement.split("-")[1]||"",v=[];switch(h.behavior){case "flip":v=[p,q];break;case "clockwise":v=oa(p);break;case "counterclockwise":v=
oa(p,!0);break;default:v=h.behavior}return v.forEach(function(w,y){if(p!==w||v.length===y+1)return e;p=e.placement.split("-")[0];q=N(p);var z=e.offsets.popper;w=e.offsets.reference;var B=ea;w="left"===p&&B(z.right)>B(w.left)||"right"===p&&B(z.left)<B(w.right)||"top"===p&&B(z.bottom)>B(w.top)||"bottom"===p&&B(z.top)<B(w.bottom);var C=B(z.left)<B(m.left),F=B(z.right)>B(m.right),O=B(z.top)<B(m.top);B=B(z.bottom)>B(m.bottom);z="left"===p&&C||"right"===p&&F||"top"===p&&O||"bottom"===p&&B;var P=-1!==["top",
"bottom"].indexOf(p),ya=!!h.flipVariationsByContent&&(P&&"start"===r&&F||P&&"end"===r&&C||!P&&"start"===r&&B||!P&&"end"===r&&O);C=!!h.flipVariations&&(P&&"start"===r&&C||P&&"end"===r&&F||!P&&"start"===r&&O||!P&&"end"===r&&B)||ya;(w||z||C)&&(e.flipped=!0,(w||z)&&(p=v[y+1]),C&&(r="end"===r?"start":"start"===r?"end":r),e.placement=p+(r?"-"+r:""),e.offsets.popper=Q({},e.offsets.popper,W(e.instance.popper,e.offsets.reference,e.placement)),e=aa(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var h=e.placement,m=h.split("-")[0],p=e.offsets,q=p.popper;p=p.reference;var r=-1!==["left","right"].indexOf(m),v=-1===["top","left"].indexOf(m);return q[r?"left":"top"]=p[m]-(v?q[r?"width":"height"]:0),e.placement=N(h),e.offsets.popper=I(q),e}},hide:{order:800,enabled:!0,fn:function(e){if(!na(e.instance.modifiers,"hide","preventOverflow"))return e;var h=e.offsets.reference,m=L(e.instance.modifiers,
function(p){return"preventOverflow"===p.name}).boundaries;if(h.bottom<m.top||h.left>m.right||h.top>m.bottom||h.right<m.left){if(!0===e.hide)return e;e.hide=!0;e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1;e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,h){var m=h.x,p=h.y,q=e.offsets.popper,r=L(e.instance.modifiers,function(B){return"applyStyle"===B.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");
h=void 0===r?h.gpuAcceleration:r;r=g(e.instance.popper);var v=G(r);q={position:q.position};var w=ta(e,2>window.devicePixelRatio||!xa);m="bottom"===m?"top":"bottom";var y="right"===p?"left":"right",z=K("transform");(p="bottom"==m?"HTML"===r.nodeName?-r.clientHeight+w.bottom:-v.height+w.bottom:w.top,r="right"==y?"HTML"===r.nodeName?-r.clientWidth+w.right:-v.width+w.right:w.left,h&&z)?(q[z]="translate3d("+r+"px, "+p+"px, 0)",q[m]=0,q[y]=0,q.willChange="transform"):(q[m]=p*("bottom"==m?-1:1),q[y]=r*("right"==
y?-1:1),q.willChange=m+", "+y);return e.attributes=Q({},{"x-placement":e.placement},e.attributes),e.styles=Q({},q,e.styles),e.arrowStyles=Q({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return da(e.instance.popper,e.styles),sa(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&da(e.arrowElement,e.arrowStyles),e},onLoad:function(e,h,m,p,q){p=U(q,h,e,m.positionFixed);e=T(m.placement,p,h,e,
m.modifiers.flip.boundariesElement,m.modifiers.flip.padding);return h.setAttribute("x-placement",e),da(h,{position:m.positionFixed?"fixed":"absolute"}),m},gpuAcceleration:void 0}}},Y});(function(a){function b(d,f){var g=a(window);f=g.scrollTop();var l=g.scrollLeft()+g.width(),k=g.scrollTop()+g.height();g=g.scrollLeft();var n=d.element.offset();n.right=n.left+d.element.outerWidth();n.bottom=n.top+d.element.outerHeight();return f<=n.top&&g<=n.left&&l>=n.right&&k>=n.bottom}function c(d,f){return d.clone().empty().addClass(f.fixed_class||"sticky-fixed").css(a.extend({position:"fixed",display:"none"},f.fixed_css||{})).removeAttr("id").insertAfter(d)}a.fn.sticky=function(d){function f(){g.closest("body").length?
a.each(k,function(n,t){l.isStaticVisible.call(t.element,t,l)?t.is_fixed&&(t.is_fixed=!1,t.fixed_clone.hide(),l.hideFixed&&l.hideFixed.call(t.fixed_clone,t,l)):(t.is_fixed||(t.is_fixed=!0,t.fixed_clone.show(),l.showFixed&&l.showFixed.call(t.fixed_clone,t,l)),l.updateFixed&&l.updateFixed.call(t.fixed_clone,t,l))}):a(window).off("resize scroll",f)}var g=this,l=a.extend({fixed_css:{bottom:0},fixed_class:"sticky-fixed",isStaticVisible:b,getClone:c,showFixed:function(n){n.element.css({"min-height":n.element.height()});
n.fixed_clone.empty().css({"min-width":n.element.width()}).append(n.element.children())},hideFixed:function(n){n.element.css({"min-height":0});n.fixed_clone.children().appendTo(n.element)},updateFixed:function(n){n.fixed_clone.css({"min-width":n.element.width()})}},d||{}),k=g.map(function(){var n=a(this);return{element:n,fixed_clone:l.getClone.call(n,n,l),is_fixed:!1}}).get();a(window).on("resize scroll",f);f();return this}})(jQuery);(function(a){a.fn.lazyLoad=function(b,c){function d(){if(f.stopped)this.onscroll=null;else if(!f.stopped&&!f.loading&&k(l,g)<=f.distance){if(null!==f.hash){var n=location.hash.replace(/^[^#]*#\/*/,"").split("/")[0];if(-1===f.hash.indexOf(n)){this.onscroll=null;return}}f.load()}}if("stop"==b){var f=this.data("lazyLoadSettings");f&&(f.stopped=!0)}else if("sleep"==b){if(f=this.data("lazyLoadSettings"))f.loading=!0}else if("wake"==b){if(f=this.data("lazyLoadSettings"))f.loading=!1}else if("force"==b)(f=
this.data("lazyLoadSettings"))&&(f.loading||f.load());else{this.data("lazyLoadSettings",a.extend({distance:50,load:function(){},container:l,state:"wake",hash:location.hash.replace(/^[^#]*#\/*/,"").split("/")[0]||null,distanceBetweenBottoms:null},b||{}));f=this.data("lazyLoadSettings");f.loading=!1;f.stopped=!1;var g=this,l="string"===typeof f.container?a(f.container):f.container;null===f.hash||a.isArray(f.hash)||(f.hash=[f.hash]);a.fn.lazyLoad.call(g,f.state);(function(){var n=setTimeout(function(){if(f.stopped)clearTimeout(n);
else{if(null!==f.hash){var t=location.hash.replace(/^[^#]*#\/*/,"").split("/")[0];if(-1===f.hash.indexOf(t)){clearTimeout(n);return}}f.loading?n=setTimeout(arguments.callee,350):(k(l,g),k(l,g)<=f.distance?(f.load(),n=setTimeout(arguments.callee,350)):(g.get(0).onscroll=d,clearTimeout(n)))}},350)})();var k="function"===typeof f.distanceBetweenBottoms?f.distanceBetweenBottoms:function(n,t,u){u=u||0;return n.position().top+n.outerHeight()-u-(t.scrollTop()+t.height())}}}})(jQuery);(function(a){a("#topic-access-toggle").iButton({labelOn:"",labelOff:"",className:"mini"});a.storage=new a.store;a.hub={lang:!1,framework_version:!1,options:{accountName:""},init:function(b){this.options=b||{};a.sidebar.init();this.$reviewWidget=a(".i-product-review-widget-wrappper");"undefined"!=typeof a.History&&(a.History.bind(a.hub.dispatch),a.History.unbind=function(c,d){d?a.History.handlers.specific[c]&&a.each(a.History.handlers.specific[c],function(f,g){if(g===d)return a.History.handlers.specific[c].splice(f,
1),!1}):(d=c,a.each(a.History.handlers.generic,function(f,g){if(g===d)return a.History.handlers.generic.splice(f,1),!1}))});b=window.location.hash;"#/"!==b&&b||this.dispatch()},forceHash:function(b){b=a.hub.helper.cleanHash(b);a.hub.currentHash!==b&&(a.hub.currentHash=b,a.wa.setHash(b))},backWithoutDispatch:function(b){var c;b&&a.History.bind(c=function(){a.History.unbind(c);b()});this.skipDispatch=1;history.back()},redispatch:function(){this.currentHash=null;this.dispatch()},skipDispatch:0,currentHash:null,
dispatch:function(b){if(this!==a.hub)return a.hub.dispatch(b);if(0<a.hub.skipDispatch)return a.hub.skipDispatch--,!1;b=a.hub.helper.cleanHash(b||void 0);if(a.hub.currentHash!=b){var c=a.hub.currentHash;a.hub.currentHash=b;var d=new a.Event("wa_before_dispatched");a(window).trigger(d);if(d.isDefaultPrevented())return a.hub.currentHash=c,a.wa.setHash(c),!1;if(b)if(b=b.replace(/^.*#\/?/,"").replace(/\/$/,""),b=b.split("/"),b[0]){c="";d=b.length;for(var f=0;f<b.length;f++){var g=b[f];if(2>f)if(0===f)c=
g;else if("add"==g||parseInt(g,10)!=g&&-1==g.indexOf("=")&&"search"!=c&&"following"!=c&&"plugins"!=c)c+=g.substr(0,1).toUpperCase()+g.substr(1);else{d=f;break}else{d=f;break}}b=b.slice(d);a.hub[c+"Action"]?(a.sidebar.highlight(),a.hub.currentAction=c,a.hub.currentActionAttr=b,a.hub[c+"Action"].apply(a.hub,b),a("body").animate({scrollTop:0},200)):console&&console.log("Invalid action name:",c+"Action")}else a.hub.defaultAction();else a.hub.defaultAction();this.toggleReviewWidget()}},defaultAction:function(b){a("#wa-app > .sidebar li.selected").removeClass("selected");
a('#wa-app > .sidebar li a[href="#/"]').parent().addClass("selected");b=this.getOrder("default",b);this.load("?module=topics"+(b?"&sort="+b:""),function(){})},pluginsAction:function(b){a("#wa-plugins-container").length?a.plugins.dispatch(b):this.load("?module=plugins")},getOrder:function(b,c){b="hub/"+b+"/order";return c?(a.storage.set(b,c),c):a.storage.get(b)},initLazyLoad:function(){var b=a(".lazyloading-paging");if(b.length){var c=parseInt(b.data("times")||"10",10),d=b.data("linkText")||"Load more",
f=b.find("li.selected");if("1"==f.children("a").text()){b.hide();var g=a(window);g.lazyLoad("stop");f.next().length&&g.lazyLoad({container:"#h-content .h-topics",load:function(){g.lazyLoad("sleep");var l=a(".lazyloading-paging").hide(),k=a(".h-footer"),n=l.find("li.selected").next().find("a").attr("href");if(n){var t=a("#h-content .h-topics");a(".loading-wrapper").show();a.get(n,function(u){u=a("<div></div>").html(u);t.append(u.find("#h-content .h-topics").children());var x=u.find(".lazyloading-paging").hide();
l.replaceWith(x);l=x;k.replaceWith(u.find(".h-footer"));--c;l.find("li.selected").next().length?!isNaN(c)&&0>=c?(g.lazyLoad("sleep"),a(".lazyloading-load-more").length||a('<a href="#" class="lazyloading-load-more">'+d+"</a>").insertAfter(l).click(function(){c=1;g.lazyLoad("wake");g.lazyLoad("force");return!1})):g.lazyLoad("wake"):(g.lazyLoad("stop"),a(".lazyloading-load-more").remove());u.remove();t.trigger("lazyload_append");a(".loading-wrapper").hide()})}else g.lazyLoad("stop")}})}}},popularAction:function(){this.defaultAction("popular")},
archiveAction:function(){this.defaultAction("archive")},updatedAction:function(){this.defaultAction("updated")},recentAction:function(){this.defaultAction("recent")},unansweredAction:function(){this.defaultAction("unanswered")},contactAction:function(b,c,d){(d=d||"")&&(d="&sort="+d);(c=c||"")&&(c="&hub_id="+c);this.load("?module=topics"+d+c+"&hash=contact/"+encodeURIComponent(b),function(){a(".h-header .h-sort").remove()})},load:function(b,c){var d=this.options,f=a.hub.load_protector=Math.random();
a.get(b,{},function(g){if(f===a.hub.load_protector){a(window).scrollTop(0);a("#content").html(g);g=a("#content").find("h1:first");g.length&&(g=g.children().length?g.find(".title").length?g.find(".title").text():g.contents()[0].textContent?g.contents()[0].textContent:g.contents()[0].innerText:g.text(),document.title=g+" \u2014 "+d.accountName);if(c)try{c.call(this)}catch(l){}a(window).trigger(a.Event("wa_loaded"))}})},typeAction:function(b,c){this.load("?module=topics&hash=type/"+b+(c?"&sort="+c:""),
function(){})},hubAction:function(b,c){c=this.getOrder("hub"+b,c);this.load("?module=topics&hash=hub/"+b+(c?"&sort="+c:""))},followingAction:function(b){b=this.getOrder("following",b);this.load("?module=topics&hash=following"+(b?"&sort="+b:""),function(){})},categoryAddAction:function(b){var c=this;b=parseInt(b);this.load("?module=settings&action=category&hub_id="+b,function(){c.streamSettingsHandler(null,null,"category")})},categoryAction:function(b,c,d){var f=this;this.load("?module=topics&hash=category/"+
b+(c?"&sort="+c:""),function(){d&&"function"==typeof d&&d();a("a.stream-edit").click(function(){var g=a(this);g.find(".icon16").removeClass("settings").addClass("loading");a("#h-stream-settings").load("?module=settings&action=category&id="+b,function(){f.streamSettingsHandler(b,g,"category")});return!1})})},filterAddAction:function(){var b=this;this.load("?module=settings&action=filter",function(){b.streamSettingsHandler(null,null,"filter")})},filterAction:function(b,c,d){var f=this;c=this.getOrder("filter"+
b,c);this.load("?module=topics&hash=filter/"+b+(c?"&sort="+c:""),function(){d&&"function"==typeof d&&d();a("a.stream-edit").click(function(){var g=a(this);g.find(".icon16").removeClass("funnel").addClass("loading");a("#h-stream-settings").load("?module=settings&action=filter&id="+b,function(){f.streamSettingsHandler(b,g,"filter")});return!1})})},tagAction:function(b,c){this.load("?module=topics&hash=tag/"+b+(c?"&sort="+c:""),function(){})},searchAction:function(b){this.load("?module=topics&hash=search/"+
encodeURIComponent(b),function(){})},topicAddAction:function(){this.load("?module=topics&action=edit")},topicEditAction:function(b){this.load("?module=topics&action=edit&id="+b)},topicAction:function(b){this.load("?module=topics&action=info&id="+b)},settingsAction:function(){this.load("?module=settings")},authorsAction:function(){this.load("?module=authors")},settingsTypeAction:function(b){this.load("?module=settings&action=type&id="+b)},settingsHubAction:function(b){this.load("?module=settings&action=hub&id="+
b)},settingsFilterAction:function(b){this.load("?module=settings&action=filter&id="+b)},commentsAction:function(b){this.load("?module=comments"+(b?"&"+b:""))},pagesAction:function(b){a("#wa-page-container").length?waLoadPage(b):this.load("?module=pages")},designAction:function(b){b?a("#wa-design-container").length?waDesignLoad():a("#content").load("?module=design",function(){waDesignLoad(b)}):a("#content").load("?module=design",function(){waDesignLoad("")})},designThemesAction:function(b){a("#wa-design-container").length?
waDesignLoad():a("#content").load("?module=design",function(){waDesignLoad()})},streamSettingsSaveHandler:function(b,c,d,f,g,l){d.find(":submit").prop("disabled",!1);if("ok"==b.status){if(c.slideUp(),l&&(l.find(".icon16").removeClass("loading").addClass("category"==g?"settings":"funnel"),l.show()),b.data){c=b.data||{};switch(g){case "category":a.hub.helper.updateCategory(f||c.id,c);break;case "filter":a.hub.helper.updateFilter(f||c.id,c)}if(f)switch(a(".h-saved").slideDown(),d=function(){a(".h-saved").show();
setTimeout(function(){a(".h-saved").slideUp()},4E3)},g){case "category":0<c.type?a.hub.categoryAction(f,null,d):(a("#list-title-text").text(b.data.name),document.title=b.data.name+" \u2014 "+a.hub.options.accountName);break;case "filter":a.hub.filterAction(f,null,d)}else window.location.hash="/"+g+"/"+c.id+"/"}}else a.hub.helper.formError(d,b.errors||{},"category")},streamDeleteHandler:function(b,c,d){d?"string"==typeof d&&(d+="&id="+b):d={id:b};a.post("?module=settings&action="+c+"Delete",d,function(f){if("ok"==
f.status){switch(c){case "category":a.sidebar.sidebar.find("#category-"+b).remove();break;case "filter":a.sidebar.sidebar.find('a[href="\\#/filter/'+b+'/"]').closest("li").remove()}location.hash="#/"}},"json")},streamSettingsHandler:function(b,c,d){c&&c.hide();var f=a("#h-stream-settings");f.slideDown();var g=this,l=f.find("form");this.helper.glyphHandler(l,d,"filter"==d?"icon":"glyph");l.find(':input[name$="\\[name\\]"]:first').focus();l.submit(function(){a.hub.helper.formError(l);l.find(":submit").attr("disabled",
!0);a(".tagsinput input").trigger(jQuery.Event("keypress",{which:13}));var k=new FormData(this),n=l.find("#h-category-logo-progressbar"),t=setTimeout(function(){l.find(".progressbar").show()},2E3);a.ajax({url:l.attr("action"),type:"POST",async:!0,xhr:function(){var u=a.ajaxSettings.xhr();u.upload&&l.find(':input[type="file"]').length&&u.upload.addEventListener("progress",function(x){if(x.lengthComputable){var D=x.loaded||x.position;x=x.totalSize||x.total;n.show();n.css("width",Math.min(100,Math.floor(D/
x*100))+"%")}},!1);return u},success:function(u){try{clearTimeout(t);l.find(".progressbar").hide();var x=a.parseJSON(u);g.streamSettingsSaveHandler(x,f,l,b,d,c||!1)}catch(D){a.hub.helper.formError(l,{submit:u.replace(/<\/?[^>]+>/gi,"").substr(0,512)},"category")}},data:k,cache:!1,dataType:"html",contentType:!1,processData:!1});return!1});a("a.cancel",f).click(function(){f.slideUp();c?(c.find(".icon16").removeClass("loading").addClass("category"==d?"settings":"funnel"),c.show()):window.location.hash=
"/";return!1});b&&a("a.js-delete",f).click(function(){var k=a(this);if("category"==d&&k.hasClass("js-dialog")){var n=a("#h-category-delete");n.waDialog({onSubmit:function(){g.streamDeleteHandler(b,d,n.find("form").serialize());return!1}})}else confirm($_("Are you sure?"))&&g.streamDeleteHandler(b,d);return!1})},toggleReviewWidget:function(){("hub"===a.hub.currentAction||"category"===a.hub.currentAction)&&this.$reviewWidget.length&&a.hub.currentHash?this.$reviewWidget.show():this.$reviewWidget.hide()},
manageHandler:function(b,c){a("#blog-stream-primary-menu").hide();a("#blog-stream-manage-menu").show();this.management=!0;this.onContentUpdate();return!1},manageCompleteHandler:function(b,c){this.management=!1;a("#blog-stream-manage-menu").hide();a("#blog-stream-primary-menu").show();a(".b-post.js-managed").each(function(){a(this).removeClass("js-managed");a(this).find("h3:hidden").show();a(this).find("h3:first").hide();a(this).find(".b-post-body:hidden, .profile.image20px:hidden").fadeIn()});return!1},
topics:{last_hash:"",$topics_ul:null,$bulk_menu:null,$sort_menu:null,init:function(b){this.last_hash=window.location.hash;if(b&&"undefined"!=typeof b.topics_count){var c=a("#wa-app > .sidebar li.selected:first .count:first");c.length&&c.text(b.topics_count)}this.$topics_ul=a("ul.h-topics");this.initBulkActions();this.initFollowLinks();this.initTopicTypesFilter();this.$topics_ul.on("click",".toggle-comments",function(){a(this).closest("li").find(".h-comments").slideToggle()});a(".h-saved .h-close-saved").on("click",
function(){a(this).closest(".h-saved").slideUp();return!1})},initBulkActions:function(){function b(g,l,k){if(g&&l&&g[0]&&l[0]&&!g.is(l[0])){var n=!1;l.parent().children().each(function(t,u){if(n){if(g.is(u)||l.is(u))return!1;a(u).find("input:checkbox.js-bulk-mode:visible").prop("checked",k).change()}else if(g.is(u)||l.is(u))n=!0})}}var c=this;this.$bulk_menu=a("ul.js-bulk-menu:first");this.$sort_menu=a("ul.js-sort-menu:first");this.$bulk_menu.find("a:first").click(function(){a(this).is(":visible")&&
c.$topics_ul.addClass("h-bulk-mode").closest(".h-stream").removeClass("h-mode-normal").addClass("h-mode-bulk");c.$sort_menu.hide();c.$bulk_menu.children("li").toggle();c.bulkCount();return!1});this.$bulk_menu.find("a:last").click(function(){a(this).is(":visible")&&c.$topics_ul.removeClass("h-bulk-mode").closest(".h-stream").addClass("h-mode-normal").removeClass("h-mode-bulk");c.$sort_menu.show();c.$bulk_menu.children("li").toggle();return!1});this.$bulk_menu.find("a.js-bulk-action").click(function(){var g=
a(this);if(c.bulkCount()){var l=g.data("confirm");if(!l||confirm(l))l=g.data("action"),l="bulk"+l.substr(0,1).toUpperCase()+l.substr(1),c[l+"Action"].apply(c,[g])}else alert($_("Select at least one topic"));return!1});this.$topics_ul.on("change",":input.js-bulk-mode",function(){c.bulkCount();this.checked?a(this).closest("li").addClass("selected").find("h3").addClass("bold"):a(this).closest("li").removeClass("selected").find("h3").removeClass("bold")});var d=null,f=null;this.$topics_ul.on("click",
":input.js-bulk-mode",function(g){var l=a(this),k=l.closest(".h-topic");l.prop("checked")?(g.shiftKey&&d&&b(d,k,!0),d=k,f=null):(g.shiftKey&&f&&b(f,k,!1),d=null,f=k);c.bulkCount()});a.storage.get("sort-handler-unavailable-notice-hidden")?a(".sort-handler-unavailable-notice").remove():a(".sort-handler-unavailable-notice .h-close").click(function(){a(this).closest(".sort-handler-unavailable-notice").remove();a.storage.set("sort-handler-unavailable-notice-hidden",!0);return!1})},initFollowLinks:function(){this.$topics_ul.on("click",
".h-follow",function(){var b=a(this),c=b.find("i"),d=c.hasClass("star-empty")?1:0;a.post("?module=following",{topic_id:b.data("topic"),follow:d},function(f){if("ok"==f.status){f=parseInt(a("#following-count").html());var g=b.closest("li"),l=g.find(".h-comments");d?(l.slideDown(),g.addClass("h-followed").removeClass("h-not-followed"),b.addClass("highlighted"),c.removeClass("star-empty").addClass("star"),b.find(".followers-count").html($_("Following")),f+=1):(l.slideUp(),g.removeClass("h-followed").addClass("h-not-followed"),
b.removeClass("highlighted"),c.addClass("star-empty").removeClass("star"),b.find(".followers-count").html(""),--f);a("#following-count").addClass("highlighted").html(f)}},"json");return!1})},initTopicTypesFilter:function(){function b(){var l={};g.map(function(){if(this.checked)return 1;l[this.value]=1}).length||(l={});var k=[],n=[];d.children().each(function(){var t=a(this).data("type-id");l[t]?k.push(this):n.push(this)});k.length?(a(k).css("opacity",.7).slideUp(function(){a(k).css("opacity","");
a(window).scroll()}),a(".h-footer .place-for-hidden-label").show().children("span").text(k.length),d.closest(".h-stream").addClass("h-js-filtered").removeClass("h-not-js-filtered")):(a(".h-footer .place-for-hidden-label").hide().children("span").text("0"),d.closest(".h-stream").addClass("h-not-js-filtered").removeClass("h-js-filtered"));n.length&&a(n).slideDown(function(){a(window).scroll()})}function c(){var l=g.map(function(){return(this.checked||null)&&a.trim(a(this).closest("label").text())}).get().join(", ");
l=a.trim(f.find("ul li.selected a").text())+(l?": "+l:"");f.find("> li > a i").text(l)}var d=a("#h-content .h-topics"),f=a(".h-sort.js-sort-menu"),g=f.find(".h-filter-by-type :checkbox");f.find(".h-filter-by-type").on("change",":checkbox",function(){b();c()});d.on("lazyload_append",function(){b()})},initManualDragAndDrop:function(b){this.$topics_ul.sortable({items:"> li",distance:5,tolerance:"pointer",handle:".sort,h3 a,i.h-glyph32",update:function(c,d){c=d.item.data("id");d=d.item.next("li").data("id");
a.post("?module=topics&action=move",{id:c,before_id:d,category_id:b},null,"json").always(function(f,g){("success"!=g||"ok"!==f.status)&&console&&console.log(g,f.errors||f)})}})},bulkCount:function(){var b=this.$topics_ul.find(":input.js-bulk-mode:checked").length;this.$bulk_menu.find(".js-count").text(b);return b},bulkDeleteAction:function(b){b.find("i.icon16").removeClass("delete").addClass("loading");var c=[];this.$topics_ul.find(":input.js-bulk-mode:checked").each(function(){c.push(this.value)});
var d=this;a.ajax({url:"?module=topics&action=delete",dataType:"json",type:"post",data:{ids:c},success:function(f){b.find("i.icon16").removeClass("loading").addClass("delete");d.$bulk_menu.find("a:last").click();if("ok"!=f.status)default_error_handler(f);else if(f.data.deleted)for(var g in f.data.deleted)f.data.deleted.hasOwnProperty(g)&&d.$topics_ul.find('>li[data-id="'+f.data.deleted[g]+'"]').remove()}})},bulkPriorityAction:function(b){b=b.data("priority");var c=this.$topics_ul.find(":input.js-bulk-mode:checked").map(function(){return this.value}).get();
a.post("?module=topics&action=bulkPriority",{priority:b,topic_ids:c},function(){a.hub.redispatch()})},bulkMoveAction:function(b){b="&hub_id="+b.data("hub")+"&category_id="+b.data("category");var c=a("#h-bulk-topics-move"),d=this;c.hasClass("dialog")?d.bulkMoveDialog(c):c.load("?module=dialog&action=topicsMove"+b,function(){c.addClass("dialog");c.find(':input[name="hub_id"]').change(function(){if(this.checked){c.find("select").attr("disabled",!0);var f=a(this).parents(".value:first").find("select:first");
f.length&&f.attr("disabled",null)}}).change();d.bulkMoveDialog(c)})},bulkMoveDialog:function(b){var c=this;b.waDialog({disableButtonsOnSubmit:!0,onLoad:function(){var d=[];c.$topics_ul.find(":input.js-bulk-mode:checked").each(function(){d.push(this.value)});b.find(':input[name="topic_ids"]').val(d.join(","))},onSubmit:function(){var d=b.find("form:first"),f=d.find(':input[name="hub_id"]:checked'),g=f.val(),l=f.parents(".value:first").find("select:first").val();a.ajax({url:d.attr("action"),data:d.serialize(),
dataType:"json",type:"post",success:function(k){b.waDialog("close");window.location.hash=l?"/category/"+l+"/":g?"/hub/"+g+"/":"/"}});return!1}})}},helper:{formError:function(b,c,d){b.find(":submit").attr("disabled",null);if(c){for(var f in c||{})if(c.hasOwnProperty(f)){var g=b.find(this.getSelector(f,d));g.length||(g=b.find(this.getSelector(f)));g.length||(g=b.find(":submit:first"));g.addClass("error");var l=g.next(".errormsg");l.length?l.text(c[f]):g.after(a('<em class="errormsg"></em>').text(c[f]))}b.find("input.error:first").focus()}else b.find(":input.error").removeClass("error"),
b.find(".errormsg").text("")},updateCategory:function(b,c){b=a.sidebar.sidebar.find("#category-"+b);b.length?(b.find(".name").text(c.name),b.find(".count").text(c.topics_count),b.find(".js-glyph").replaceWith(c.glyph_html),a("h1.list-title .title").text(c.name)):a.sidebar.reload(function(){a.sidebar.setHub(c.hub_id)})},updateFilter:function(b,c){var d=a.sidebar.sidebar.find('a[href="\\#/filter/'+b+'/"]').parents("li");d.length?(d.find(".count").text(c.topics_count),d.find(".name").text(c.name),d.find(".js-icon").replaceWith(c.icon_html),
a("h1.list-title .title").text(c.name)):(d=a('<li><a href="#/filter/'+(b||c.id)+'/">'+c.icon_html+'<span class="name">name placeholder</span></a></li>'),d.insertBefore(a.sidebar.sidebar.find('a[href="\\#/filter/add/"]').parents("li")),d.find(".name").text(c.name))},glyphHandler:function(b,c,d){d||(d="glyph");var f=b.find(".js-"+d+"-templates"),g=b.find(this.getSelector(d,c));f.on("click","li > a",function(){f.find(".selected").removeClass("selected");var l=a(this);l.parents("li").addClass("selected");
g.val(l.data(d));return!1})},confirmLeave:function(b,c,d){var f,g,l=a(window);l.on("beforeunload",f=function(k){if(b())return c});l.on("wa_before_dispatched",g=function(k){b()?confirm(c+" "+d)||k.preventDefault():l.off("unload",f).off("wa_before_dispatched",g)})},cleanHash:function(b){"undefined"==typeof b&&(b=window.location.hash.toString());for(b.length||(b=""+b);0<b.length&&"/"===b[b.length-1];)b=b.substr(0,b.length-1);b+="/";"#"!=b[0]?("/"!=b[0]&&(b="/"+b),b="#"+b):b[1]&&"/"!=b[1]&&(b="#/"+b.substr(1));
if("#/"==b)return"";try{b=decodeURIComponent(b)}catch(c){}return b},isCtrlS:function(b){return 19==b.which||115==b.which&&b.ctrlKey||"s"==String.fromCharCode(b.which).toLowerCase()&&b.ctrlKey?!0:!1},getSelector:function(b,c){var d=':input[name="';return c?d+c+"\\["+b+'\\]"]':d+b+'"]'}}}})(jQuery);(function(a){a.sidebar={sidebar:null,options:{},init:function(b){this.options=b||{};this.sidebar=a("#wa-app").find(".sidebar:first");this.initCollapsibleSections();this.initCategoriesDragAndDrop();this.initFiltersDragAndDrop();this.highlight();a(window).trigger(a.Event("wa_sidebar_loaded"));this.reloader||(this.reloader=setInterval(function(){a.sidebar.reload({},!0)},3E5))},setHub:function(b){b=a("#hub-"+b).closest(".h-hub").removeClass("folded").find(".category-list:first");a("#wa-app > .sidebar .category-list").not(b).slideUp(200,
function(){a(this).closest(".h-hub").addClass("folded")});b.slideDown(200)},initCategoriesDragAndDrop:function(){this.sidebar.find(".category-list ul").sortable({axis:"y",items:"> li",distance:5,update:function(b,c){b={id:c.item.data("categoryId"),before_id:c.item.prev().data("categoryId")||0};a.post("?module=categories&action=move",b,null,"json").always(function(d,f){("success"!=f||"ok"!==d.status)&&console&&console.log(f,d.errors||d)})}})},initFiltersDragAndDrop:function(){var b=a("#h-sidebar-filters-list"),
c={};b.children().each(function(f,g){f=a(g);c[f.data("filterId")]=f});var d=a.storage.get("hub/filters_order");d&&d.reverse&&a.each(d.reverse(),function(f,g){c[g]&&c[g].prependTo(b)});b.sortable({axis:"y",items:"> li",distance:5,update:function(){var f=[];b.children().each(function(g,l){f.push(a(l).data("filterId"))});a.storage.set("hub/filters_order",f)}})},initCollapsibleSections:function(){var b=function(c,d){var f="hub/"+a(c).attr("id")+"/collapse",g=a(c).find(".collapse-handler");c=a(c).next();
g.hasClass("darr")?(g.removeClass("darr").addClass("rarr"),c.hide(),d||a.storage.set(f,1)):(g.removeClass("rarr").addClass("darr"),c.show(),d||a.storage.del(f,1));return!1};this.sidebar.on("click",".collapse",function(){b(this)});this.sidebar.find(".collapse").each(function(){var c="hub/"+a(this).attr("id")+"/collapse";a.storage.get(c)&&b(this,!0)})},highlight:function(b){b=a.hub.helper.cleanHash(b);b=b.replace('"','\\"');a("#wa-app > .sidebar li.selected").removeClass("selected");var c=a('#wa-app > .sidebar li a[href="'+
b+'"]');!c.length&&2<b.length&&(c=a('#wa-app > .sidebar li a[href="'+a.hub.helper.cleanHash(b.replace(/\/[^\/]+\/$/,""))+'"]'));c.length&&c.closest("li").addClass("selected")},reload:function(b,c){var d=a(".h-hub:not(.folded)").data("hub-id"),f="?sidebar=1";c&&(f+="&background_process=1");a.post(f,function(g){a.sidebar.sidebar.html(g);a.sidebar.init();d&&a.sidebar.setHub(d);"function"===typeof b&&b()})}}})(jQuery);
//# sourceMappingURL=hub.min.js.map