var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};
$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(m){b.reject(m)}};e.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(m){this.reject_(m);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(k){c.reject(k)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(C){f(C)}}:b}var d,f,h=new e(function(a,b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return h};
e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c(f.value).callWhenSettled_(b,
d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function f(b){return function(c){h[b]=c;g--;0==g&&a(h)}}var h=[],g=0;do h.push(void 0),g++,c(d.value).callWhenSettled_(f(h.length-1),e),d=b.next();while(!d.done)})};return e},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$.wa=$.ui?$.extend(!0,$.wa,$.ui):{};
$.wa=$.extend(!0,$.wa,{data:{},content:!1,get:function(a,b){return void 0==a?this.data:this.data[name]||b||null},set:function(a,b){if(void 0==a)return this.data;"object"==typeof a?$.extend(this.data,a):this.data[a]=value;return this.data},encodeHTML:function(a){return a&&(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},decodeHTML:function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},setHash:function(a){a instanceof String||!a.toString||(a=a.toString());
a=a.replace(/\/\//g,"/");a=a.replace(/^.*#/,"");$.browser&&$.browser.safari?parent?parent.window.location=parent.window.location.href.replace(/#.*/,"")+"#"+a:window.location=location.href.replace(/#.*/,"")+"#"+a:!parent||$.browser&&$.browser.msie?location.hash=a:parent.window.location.hash=a;return!0},back:function(a){2<history.length?"number"==typeof a&&parseInt(a)==a?history.go(-a):history.go(-1):$.browser.msie&&0<history.length?history.back():a&&this.setHash(a);return!1},toggleHashParam:function(a){-1==
location.hash.search(a)?this.addToHash(a):this.removeFromHash(a)},addToHash:function(a){var b=location.hash;-1==b.search(a)&&(b+="/"+a+"/");this.setHash(b)},removeFromHash:function(a){var b=location.hash;-1<b.search(a)&&(b=b.replace(a,""));this.setHash(b)},setTitle:function(a){document.title=a},array_search:function(a,b,c){c=!!c;for(var d in b)if(c&&b[d]===a||!c&&b[d]==a)return d;return!1},dialogCreate:function(a,b){b=$.extend({content:'<h1>Loading... <i class="icon16 loading"></i></h1>',buttons:null,
url:null,post:null,small:!1,onload:null,oncancel:null},b);b.content=$(b.content);b.buttons=b.buttons?$(b.buttons):$('<input type="submit" class="button gray" value="'+$_("Cancel")+'">').click(function(){b.oncancel&&b.oncancel.call(c[0]);$.wa.dialogHide()});var c=$("#"+a);0>=c.size()&&(c=$('<div class="dialog" id="'+a+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"><div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div></div></div>').appendTo("body"));
c.find(".dialog-buttons-gradient").empty().append(b.buttons);c.find(".dialog-content-indent").empty().append(b.content);c.show();b.small?c.addClass("small"):c.removeClass("small");b.url&&(a=function(a){c.find(".dialog-content-indent").html(a);$.wa.waCenterDialog(c);b.onload&&b.onload.call(c[0])},b.post?$.post(b.url,b.post,a):$.get(b.url,a));this.waCenterDialog(c);var d=function(a){if(c.is(":visible"))if(a&&27==a.keyCode)b.oncancel&&"function"==typeof b.oncancel&&b.oncancel.call(c[0]),$.wa.dialogHide();
else $(document).one("keyup",d)};d();$(document).one("hashchange",$.wa.dialogHide);return c},waCenterDialog:function(a){a=$(a);a=a.find(".dialog-window");var b=a.outerWidth(!0),c=a.outerHeight(!0),d=$(window).width(),e=$(window).height();a.css({left:Math.round((d-b)/2/d*100)+"%",top:Math.round((e-c)/2/e*100)+"%"})},dialogHide:function(){$(".dialog").hide();return!1},dropdownsClose:function(){var a=$(".dropdown:not(.disabled)");a.addClass("disabled");setTimeout(function(){a.removeClass("disabled")},
600)},dropdownsCloseEnable:function(){$(document).on("click",".dropdown:not(.disabled)",this.dropdownsClickHandler)},dropdownsCloseDisable:function(){$(document).off("click",".dropdown:not(.disabled)",this.dropdownsClickHandler)},dropdownsClickHandler:function(a){var b=$(this);b.hasClass("no-click-close")||(b.addClass("disabled"),setTimeout(function(){b.removeClass("disabled")},600))},defaultInputValue:function(a,b,c){a instanceof jQuery||(a=$(a));var d=function(){var d=a.val();d&&d!=b||(a.val(b),
a.addClass(c))};d();a.blur(d);a.focus(function(){a.hasClass(c)&&(a.removeClass(c),a.val(""))})},loadFiles:function(a){$.isArray(a)||(a="object"!==typeof a||$.isArray(a)?[].slice.apply(arguments):$.map(a,function(a,b){return a?b:null}));var b=a.map(function(a){return a?"string"!=typeof a?"object"===typeof a&&"function"===typeof a.then?a:null:a.match(/\.css(\?.*)?$/)?($("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet",href:a}),null):$.ajax({cache:!0,dataType:"script",url:a}):null}).filter(function(a){return!!a});
return $.when.apply($,b)},determineTimezone:function(a,b){var c=!1;$.each(document.cookie.split(/;\s*/g),function(a,d){d=d.split("=",2);if("tz"==d[0])return c=!0,b&&b(d[1]),!1});if(!c){var d={};d[a+"wa-content/js/jstz/jstz.min.js"]=!window.jstz;$.wa.loadFiles(d).then(function(){var a=window.jstz.determine().name();document.cookie="tz="+jstz.determine().name();var c=new Date;c.setTime(c.getTime()+12096E5);document.cookie="oldtz="+a+"; expires="+c.toUTCString();b&&b(a)})}},util:{formatFileSize:function(a){var b=
-1;do a/=1024,b++;while(99<a);return Math.max(a,.01).toFixed(2)+(0<=b?" "+$_("kB MB GB TB PB EB".split(" ")[b]):"")}}});
window.wa_skip_ajax_setup||($.ajaxSetup({cache:!1}),$(document).ajaxError(function(a,b,c,d){if(502===b.status&&"abort"==d||c.url&&0<=c.url.indexOf("background_process")||c.data&&0<=c.data.indexOf("background_process"))console&&console.log&&console.log("Notice: XHR failed on load: "+c.url);else if(200!==b.status&&b.responseText){if(!$.wa.errorHandler||$.wa.errorHandler(b))-1!=b.responseText.indexOf("Exception")?$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"}):(document.open("text/html"),
document.write(b.responseText),document.close(),$(window).one("hashchange",function(){window.location.reload()}))}else b.getResponseHeader("wa-session-expired")?window.location.reload():"undefined"!==typeof b.responseText&&-1!=b.responseText.indexOf("Exception")&&$.wa.dialogCreate("ajax-error",{content:"<div>"+b.responseText+"</div>"})}));
window.wa_skip_csrf_prefilter||$.ajaxPrefilter(function(a,b,c){a.crossDomain||"POST"!==(a.type||"").toUpperCase()||(b=document.cookie.match(/(?:^|; )_csrf=([^;]*)/))&&b[1]&&(b=decodeURIComponent(b[1]),a.data||0===a.data||(a.data=""),"string"==typeof a.data?-1==a.data.indexOf("_csrf=")&&(a.data+=(0<a.data.length?"&":"")+"_csrf="+b,c.setRequestHeader("Content-type","application/x-www-form-urlencoded")):"object"==typeof a.data&&(window.FormData&&a.data instanceof window.FormData?"function"==typeof a.data.set?
a.data.set("_csrf",b):a.data.append("_csrf",b):a.data._csrf=b))});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length;b=Number(b)||0;b=0>b?Math.ceil(b):Math.floor(b);for(0>b&&(b+=c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});$.wa.locale=$.wa.locale||{};
$_=function(a,b){if(!$||!$.wa||!$.wa.locale)return console.log("JS localization failed: empty $.wa.locale"),"string"===typeof b?b:a;if(b){if(!$.wa.locale[b])return console&&console.log("JS localization failed: "+b),b;if("string"==typeof $.wa.locale[b])return $.wa.locale[b];var c=a%10;return 1==Math.floor(a/10)%10||4<c||0==c?$.wa.locale[b][2]:1==c?$.wa.locale[b][0]:$.wa.locale[b][1]}if($.wa.locale[a])return"string"==typeof $.wa.locale[a]?$.wa.locale[a]:$.wa.locale[a][0];console&&console.log("JS localization failed: "+
a);return a};jQuery.fn.waDialog=function(a){a=jQuery.extend({loading_header:"",title:"",esc:!0,buttons:null,url:null,url_reload:!0,"class":null,content:null,width:0,height:0,"min-width":0,"min-height":0,offsetTop:null,offsetLeft:null,disableButtonsOnSubmit:!1,onLoad:null,onCancel:null,onSubmit:null},a||{});var b=$(this),c=b.attr("id");c&&!b.hasClass("dialog")&&(b.removeAttr("id"),$("#"+c).length&&(a.url?(b=$("#"+c),a.url_reload||(a.url=null)):$("#"+c).remove()));var d=a["class"]||a.className?a["class"]||a.className:
b.attr("class")||"";if(b.hasClass("dialog"))a.content&&(b.find(".dialog-content-indent").html(a.content),a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")),a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);else{var e=$(this),f=b.parent();f.length&&f.is(":visible")||(f=$("body"));b=$("<div "+(c?'id = "'+c+'"':"")+' class="dialog '+d+'" style="display: none"><div class="dialog-background"></div><div class="dialog-window"></div></div>').appendTo(f);e.find(".dialog-content").length||
e.find(".dialog-buttons").length?($(".dialog-window",b).append(e.show()),c=e.find(".dialog-content"),c.length&&(d=$('<div class="dialog-content-indent"></div>'),c.contents().appendTo(d),c.append(d)),c=e.find(".dialog-buttons"),c.length&&(d=$('<div class="dialog-buttons-gradient"></div>'),c.contents().appendTo(d),c.append(d))):($(".dialog-window",b).append((a.onSubmit?'<form method="post" action="">':"")+'<div class="dialog-content"><div class="dialog-content-indent"></div></div><div class="dialog-buttons"><div class="dialog-buttons-gradient"></div></div>'+
(a.onSubmit?"</form>":"")),b.find(".dialog-content-indent").append(e.show()));a.buttons&&b.find(".dialog-buttons-gradient").empty().append(a.buttons);a.url?b.find(".dialog-content-indent").append("<h1>"+(a.loading_header||"")+'<i class="icon16 loading"></i></h1>'):a.content&&b.find(".dialog-content-indent").append(a.content);a.title&&b.find(".dialog-content-indent").prepend("<h1>"+a.title+"</h1>")}b.find(".dialog-background").length||b.prepend('<div class="dialog-background"> </div>');b.unbind("close").bind("close",
function(){a.onClose&&a.onClose.call($(this));$(this).hide()});e=["width","height","min-width","min-height"];for(c=0;c<e.length;c++)a[e[c]]&&(("height"==e[c]&&"300px">a[e[c]]||"width"==e[c]&&"400px">a[e[c]])&&b.find("div.dialog-window").css("min-"+e[c],a[e[c]]),b.find("div.dialog-window").css(e[c],a[e[c]]));a.disableButtonsOnSubmit&&b.find("input[type=submit]").removeAttr("disabled");b.parent().length||b.appendTo("body");b.show();a.url?jQuery.get(a.url,function(c){var d=$(c);d.find(".dialog-content").length||
d.find(".dialog-buttons").length?(d.find(".dialog-content").length&&b.find(".dialog-content-indent").empty().append(d.find(".dialog-content").contents()),d.find(".dialog-buttons").length&&b.find(".dialog-buttons-gradient").empty().append(d.find(".dialog-buttons").contents())):b.find(".dialog-content-indent").html(c);b.trigger("wa-resize");a.onLoad&&a.onLoad.call(b.get(0))}):a.onLoad&&a.onLoad.call(b.get(0));b.find(".dialog-buttons").delegate(".cancel","click",function(c){c.stopPropagation();c.preventDefault();
a.onCancel&&a.onCancel.call(b.get(0));b.trigger("close");return!1});a.onSubmit&&b.find("form").unbind("submit").submit(function(c){a.disableButtonsOnSubmit&&b.find("input[type=submit]").attr("disabled","disabled");try{return a.onSubmit.apply(this,[b,c])}catch(h){throw c.preventDefault(),h;}});b.unbind("wa-resize").bind("wa-resize",function(){var b=jQuery(this).find(".dialog-window"),c=b.width(),d=b.height();jQuery("body").css("min-height",d+"px");var e=jQuery(window).width(),f=jQuery(window).height()-
60;c=(e-c)/2/e;d=(f-d-60)/2/f;0>d&&(d=0);0>c&&(c=0);b.css({left:a.offsetLeft||Math.round(100*c)+"%",top:a.offsetTop||Math.round(100*d)+"%"})}).trigger("wa-resize");a.esc&&b.unbind("esc").bind("esc",function(){b.trigger("close")});return b};jQuery(window).resize(function(){jQuery(".dialog:visible").trigger("wa-resize")});jQuery(document).keyup(function(a){27==a.keyCode&&jQuery(".dialog:visible").trigger("esc")});/*
 (c) 2008-2009 Benjamin Arthur Lupton {@link http://www.balupton.com}
 @license GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 @example Visit {@link http://jquery.com/plugins/project/jquery_history_bal} for more information.


 I would like to take this space to thank the following projects, blogs, articles and people:
 - jQuery {@link http://jquery.com/}
 - jQuery UI History - Klaus Hartl {@link http://www.stilbuero.de/jquery/ui_history/}
 - Really Simple History - Brian Dillard and Brad Neuberg {@link http://code.google.com/p/reallysimplehistory/}
 - jQuery History Plugin - Taku Sano (Mikage Sawatari) {@link http://www.mikage.to/jquery/jquery_history.html}
 - jQuery History Remote Plugin - Klaus Hartl {@link http://stilbuero.de/jquery/history/}
 - Content With Style: Fixing the back button and enabling bookmarking for ajax apps - Mike Stenhouse {@link http://www.contentwithstyle.co.uk/Articles/38/fixing-the-back-button-and-enabling-bookmarking-for-ajax-apps}
 - Bookmarks and Back Buttons {@link http://ajax.howtosetup.info/options-and-efficiencies/bookmarks-and-back-buttons/}
 - Ajax: How to handle bookmarks and back buttons - Brad Neuberg {@link http://dev.aol.com/ajax-handling-bookmarks-and-back-button}

*
**
 CHANGELOG
*
 v1.0.1-final, July 11, 2009
 - Restructured a little bit
 - Documented
 - Cleaned go/request

 v1.0.0-final, June 19, 2009
 - Been stable for over a year now, pushing live.

 v0.1.0-dev, July 24, 2008
 - Initial Release

*/
(function(a){"undefined"===typeof console&&(console="undefined"!==typeof window.console?window.console:{});console.log=console.log||function(){};console.debug=console.debug||console.log;console.warn=console.warn||console.log;console.error=console.error||function(){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);alert(a.join("\n"))};console.trace=console.trace||console.log;console.group=console.group||console.log;console.groupEnd=console.groupEnd||console.log;console.profile=console.profile||
console.log;console.profileEnd=console.profileEnd||console.log;a.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},format:function(a){return a=a.replace(/^.+?#/g,"").replace(/^#?\/?|\/?$/g,"")},getState:function(){return a.History.state},setState:function(b){var c=a.History;b=c.format(b);c.state=b;return c.state},getHash:function(){var b=parent&&!a.browser.msie?parent.window.location.hash:window.location.hash||location.hash;return b=a.History.format(b)},
setHash:function(b){b=a.History.format(b);b=b.replace(/^\/?|\/?(\?)|\/?$/g,"/$1");"undefined"===typeof window.location.hash&&(location.hash=b);a.browser.msie&&8>parseInt(a.browser.version,10)&&(a.History.$iframe.contentWindow.document.open(),a.History.$iframe.contentWindow.document.close())},go:function(b){var c=a.History;b=c.format(b);c.getHash()!==b?c.setHash(b):(c.setState(b),c.trigger());return!0},hashchange:function(b){var c=a.History;c.options.debug&&console.debug("History.hashchange",this,
arguments);var d=c.getHash(),e=c.getState();if(!c.$iframe&&e===d||c.$iframe&&c.hash===c.$iframe.contentWindow.document.location.hash||e===d)return!1;c.setState(d);c.trigger();return!0},bind:function(b,c){var d=a.History;c?("undefined"===typeof d.handlers.specific[b]&&(d.handlers.specific[b]=[]),d.handlers.specific[b].push(c)):d.handlers.generic.push(b);return!0},trigger:function(b){var c=a.History;"undefined"===typeof b&&(b=c.getState());var d;if("undefined"!==typeof c.handlers.specific[b]){var e=
c.handlers.specific[b];var f=0;for(d=e.length;f<d;++f){var g=e[f];g(b)}}e=c.handlers.generic;f=0;for(d=e.length;f<d;++f)g=e[f],g(b);return!0},construct:function(){var b=a.History;a(document).ready(function(){b.domReady()});return!0},configure:function(b){var c=a.History;c.options=a.extend(c.options,b);return!0},domReadied:!1,domReady:function(){var b=a.History;if(!b.domRedied)return b.domRedied=!0,b.$window=a(window),b.$window.bind("hashchange",this.hashchange),setTimeout(b.hashchangeLoader,200),
!0},hashchangeLoader:function(){var b=a.History;if(a.browser.msie&&8<=parseInt(a.browser.version))(c=b.getHash())&&b.$window.trigger("hashchange");else{if(a.browser.msie){b.$iframe=a('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0];b.$iframe.contentWindow.document.open();b.$iframe.contentWindow.document.close();var c=b.getHash();c&&(b.$iframe.contentWindow.document.location.hash=c);c=function(){var a=b.format(b.$iframe.contentWindow.document.location.hash);
b.getState()!==a&&b.setHash(b.$iframe.contentWindow.document.location.hash);a=b.getHash();b.getState()!==a&&b.go(a)}}else c=function(){var a=b.getHash();b.getState()!==a&&b.go(a)};a.browser.msie&&8>parseInt(a.browser.version)?setInterval(c,1500):setInterval(c,200)}return!0}};a.History.construct()})(jQuery);(function(a,b){a.store=function(b,d){var c=this;if("string"==typeof b)if(a.store.drivers[b])this.driver=a.store.drivers[b];else throw Error("Unknown driver "+b);else if("object"==typeof b){if(!(a.isFunction(b.init)&&a.isFunction(b.get)&&a.isFunction(b.set)&&a.isFunction(b.del)&&a.isFunction(b.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=b}else a.each(a.store.drivers,function(){if(!a.isFunction(this.available)||!this.available())return!0;c.driver=this;
return!1===c.driver.init()?(c.driver=null,!0):!1});d||(d=a.store.serializers);this.serializers={};a.each(d,function(b,d){if(!a.isFunction(this.init))return!0;c.serializers[b]=this;c.serializers[b].init(c.encoders,c.decoders)})};a.extend(a.store.prototype,{get:function(a){a=this.driver.get(a);return this.driver.encodes?a:this.unserialize(a)},set:function(a,b){this.driver.set(a,this.driver.encodes?b:this.serialize(b))},del:function(a){this.driver.del(a)},flush:function(){this.driver.flush()},driver:b,
encoders:[],decoders:[],serialize:function(b){var c=this;a.each(this.encoders,function(){var a=c.serializers[this+""];if(!a||!a.encode)return!0;try{b=a.encode(b)}catch(f){}});return b},unserialize:function(b){var c=this;if(!b)return b;a.each(this.decoders,function(){var a=c.serializers[this+""];if(!a||!a.decode)return!0;b=a.decode(b)});return b}});a.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(c){return!1}},
init:a.noop,get:function(a){return window.localStorage.getItem(a)},set:function(a,b){window.localStorage.setItem(a,b)},del:function(a){window.localStorage.removeItem(a)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(c){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(c){return!1}},get:function(a){this.element.load(this.nodeName);return this.element.getAttribute(a)},set:function(a,b){this.element.setAttribute(a,b);this.element.save(this.nodeName)},del:function(a){this.element.removeAttribute(a);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=a.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=a.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(c){this.cache={},window.name="{}"}},get:function(a){return this.cache[a]},set:function(a,b){this.cache[a]=
b;this.save()},del:function(a){try{delete this.cache[a]}catch(d){this.cache[a]=b}this.save()},flush:function(){window.name="{}"}}};a.store.serializers={json:{ident:"$.store.serializers.json",init:function(a,b){a.push("json");b.push("json")},encode:"object"==typeof JSON?JSON.stringify:a.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:a.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(a,b){a.unshift("xml");b.push("xml")},isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?
"html"!==a.nodeName.toLowerCase():!1},encode:function(a){if(!a||a._serialized||!this.isXML(a))return a;var b={_serialized:this.ident,value:a};try{return b.value=(new XMLSerializer).serializeToString(a),b}catch(e){try{return b.value=a.xml,b}catch(f){}}return a},decode:function(a){if(!a||!a._serialized||a._serialized!=this.ident)return a;var c="DOMParser"in window&&(new DOMParser).parseFromString;!c&&window.ActiveXObject&&(c=function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);
return b});if(!c)return b;a.value=c.call("DOMParser"in window&&new DOMParser||window,a.value,"text/xml");return this.isXML(a.value)?a.value:b}}}})(jQuery);/*
 jQuery UI - v1.8.24 - 2012-09-28
 https://github.com/jquery/jquery-ui
 Includes: jquery.ui.position.js
 Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e={},f=a.fn.position,g=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return f.apply(this,arguments);b=a.extend({},b);var g=a(b.of),h=g[0],t=(b.collision||"flip").split(" "),p=b.offset?b.offset.split(" "):[0,0],w,u,q;return 9===h.nodeType?(w=g.width(),u=g.height(),q={top:0,left:0}):h.setTimeout?(w=g.width(),u=g.height(),q={top:g.scrollTop(),left:g.scrollLeft()}):h.preventDefault?(b.at="left top",w=u=0,q={top:b.of.pageY,
left:b.of.pageX}):(w=g.outerWidth(),u=g.outerHeight(),q=g.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");1===a.length&&(a=c.test(a[0])?a.concat(["center"]):d.test(a[0])?["center"].concat(a):["center","center"]);a[0]=c.test(a[0])?a[0]:"center";a[1]=d.test(a[1])?a[1]:"center";b[this]=a}),1===t.length&&(t[1]=t[0]),p[0]=parseInt(p[0],10)||0,1===p.length&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,"right"===b.at[0]?q.left+=w:"center"===b.at[0]&&(q.left+=w/2),"bottom"===b.at[1]?q.top+=
u:"center"===b.at[1]&&(q.top+=u/2),q.left+=p[0],q.top+=p[1],this.each(function(){var c=a(this),d=c.outerWidth(),f=c.outerHeight(),g=parseInt(a.curCSS(this,"marginLeft",!0))||0,h=parseInt(a.curCSS(this,"marginTop",!0))||0,m=d+g+(parseInt(a.curCSS(this,"marginRight",!0))||0),k=f+h+(parseInt(a.curCSS(this,"marginBottom",!0))||0),r=a.extend({},q);"right"===b.my[0]?r.left-=d:"center"===b.my[0]&&(r.left-=d/2);"bottom"===b.my[1]?r.top-=f:"center"===b.my[1]&&(r.top-=f/2);e.fractions||(r.left=Math.round(r.left),
r.top=Math.round(r.top));var z={left:r.left-g,top:r.top-h};a.each(["left","top"],function(c,e){a.ui.position[t[c]]&&a.ui.position[t[c]][e](r,{targetWidth:w,targetHeight:u,elemWidth:d,elemHeight:f,collisionPosition:z,collisionWidth:m,collisionHeight:k,offset:p,my:b.my,at:b.at})});a.fn.bgiframe&&c.bgiframe();c.offset(a.extend(r,{using:b.using}))})};a.ui.position={fit:{left:function(b,c){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=0<d?b.left-d:Math.max(b.left-
c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=0<d?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var e="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,f="left"===c.at[0]?c.targetWidth:-c.targetWidth,g=-2*c.offset[0];b.left+=0>c.collisionPosition.left?
e+f+g:0<d?e+f+g:0}},top:function(b,c){if("center"!==c.at[1]){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var e="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,f="top"===c.at[1]?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=0>c.collisionPosition.top?e+f+g:0<d?e+f+g:0}}}};a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,
"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0;e={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):g.call(this):null});a.curCSS||(a.curCSS=a.css);(function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div");var d=document.createElement(b?
"div":"body");var f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};b&&a.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(var g in f)d.style[g]=f[g];d.appendChild(c);f=b||document.documentElement;f.insertBefore(d,f.firstChild);c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";c=a(c).offset(function(a,b){return b}).offset();d.innerHTML="";f.removeChild(d);b=c.top+c.left+(b?2E3:0);e.fractions=21<b&&22>b})()})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{minLength:1,delay:300},_create:function(){var b=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){var d=a.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:b._move("previousPage",c);break;case d.PAGE_DOWN:b._move("nextPage",c);break;case d.UP:b._move("previous",c);c.preventDefault();
break;case d.DOWN:b._move("next",c);c.preventDefault();break;case d.ENTER:case d.NUMPAD_ENTER:b.menu.active&&c.preventDefault();case d.TAB:if(!b.menu.active)break;b.menu.select(c);break;case d.ESCAPE:b.element.val(b.term);b.close(c);break;case d.LEFT:case d.RIGHT:case d.SHIFT:case d.CONTROL:case d.ALT:case d.COMMAND:case d.COMMAND_RIGHT:case d.INSERT:case d.CAPS_LOCK:case d.END:case d.HOME:break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.search(null,c)},b.options.delay)}}).bind("focus.autocomplete",
function(){b.selectedItem=null;b.previous=b.element.val()}).bind("blur.autocomplete",function(a){clearTimeout(b.searching);b.closing=setTimeout(function(){b.close(a);b._change(a)},150)});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo("body",c).mousedown(function(){setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){c=c.item.data("item.autocomplete");!1!==b._trigger("focus",
null,{item:c})&&/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(a,e){e=e.item.data("item.autocomplete");!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value);b.close(a);a=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=a);b.selectedItem=e},blur:function(){b.menu.element.is(":visible")&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");
this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(b){a.Widget.prototype._setOption.apply(this,arguments);"source"===b&&this._initSource()},_initSource:function(){if(a.isArray(this.options.source)){var b=this.options.source;this.source=function(c,e){e(a.ui.autocomplete.filter(b,c.term))}}else if("string"===typeof this.options.source){var c=this.options.source;this.source=function(b,e){a.getJSON(c,b,e)}}else this.source=this.options.source},search:function(a,c){a=
null!=a?a:this.element.val();if(a.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(!1!==this._trigger("search"))return this._search(a)},_search:function(a){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:a},this.response)},_response:function(a){a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&
(this._trigger("close",a),this.menu.element.hide(),this.menu.deactivate())},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"===typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(b,a);this.menu.deactivate();
this.menu.refresh();this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});a=b.width("").width();var d=this.element.width();b.width(Math.max(a,d))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&
/^next/.test(a))this.element.val(this.term),this.menu.deactivate();else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,c){this.deactivate();if(this.hasScroll()){var b=c.offset().top-this.element.offset().top,e=this.element.attr("scrollTop"),f=this.element.height();0>b?this.element.attr("scrollTop",e+b):b>f&&this.element.attr("scrollTop",e+b-f+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:c})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(a,c,d){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(d,a):this.activate(d,this.element.children(c))):
this.activate(d,this.element.children(c))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(":first"));else{var c=this.active.offset().top,d=this.element.height(),e=this.element.children("li").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return 10>b&&-10<b});e.length||(e=this.element.children(":last"));this.activate(b,e)}else this.activate(b,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||
this.first())this.activate(b,this.element.children(":last"));else{var c=this.active.offset().top,d=this.element.height();result=this.element.children("li").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return 10>b&&-10<b});result.length||(result=this.element.children(":first"));this.activate(b,result)}else this.activate(b,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(a){this._trigger("selected",
a,{item:this.active})}})})(jQuery);(function(a){a.iButton={version:"1.0.03",setDefaults:function(b){a.extend(d,b)}};a.fn.iButton=function(b){var d="string"==typeof arguments[0]&&arguments[0],e=d&&Array.prototype.slice.call(arguments,1)||arguments,f=0==this.length?null:a.data(this[0],"iButton");if(f&&d&&this.length){if("object"==d.toLowerCase())return f;if(f[d]){var g;this.each(function(b){var c=a.data(this,"iButton")[d].apply(f,e);if(0==b&&c)if(c.jquery)g=a([]).add(c);else return g=c,!1;else c&&c.jquery&&(g=g.add(c))});return g||this}return this}return this.each(function(){new c(this,
b)})};var b=0;a.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var c=function(c,h){var g=this,k=a(c),t=++b,p=!1,w=!1,u=null,q=null,C=null,O=null;h=a.extend({},d,h,a.metadata?k.metadata():{});c=h.labelOn==e&&h.labelOff==f;if(!k.is(":checkbox, :radio"))return k.find(":checkbox, :radio").iButton(h);if(!a.data(k[0],"iButton")){a.data(k[0],"iButton",g);"auto"==h.resizeHandle&&(h.resizeHandle=!c);"auto"==h.resizeContainer&&(h.resizeContainer=!c);this.toggle=function(a){k.attr("checked",
0<arguments.length?a:!k[0].checked).trigger("change")};this.disable=function(b){var c=0<arguments.length?b:!p;p=c;k.attr("disabled",c);y[c?"addClass":"removeClass"](h.classDisabled);a.isFunction(h.disable)&&h.disable.apply(g,[p,k,h])};this.repaint=function(){K()};this.destroy=function(){a([k[0],y[0]]).unbind(".iButton");a(document).unbind(".iButton_"+t);y.after(k).remove();a.data(k[0],"iButton",null);a.isFunction(h.destroy)&&h.destroy.apply(g,[k,h])};k.wrap('<div class="'+a.trim(h.classContainer+
" "+h.className)+'" />').after('<div class="'+h.classHandle+'"><div class="'+h.classHandleRight+'"><div class="'+h.classHandleMiddle+'" /></div></div><div class="'+h.classLabelOff+'"><span><label>'+h.labelOff+'</label></span></div><div class="'+h.classLabelOn+'"><span><label>'+h.labelOn+'</label></span></div><div class="'+h.classPaddingLeft+'"></div><div class="'+h.classPaddingRight+'"></div>');var y=k.parent(),A=k.siblings("."+h.classHandle),J=k.siblings("."+h.classLabelOff),G=J.children("span"),
H=k.siblings("."+h.classLabelOn),r=H.children("span");if(h.resizeHandle||h.resizeContainer){var z=r.outerWidth();var N=G.outerWidth()}h.resizeHandle?(c=Math.min(z,N),A.css("width",c)):c=A.width();h.resizeContainer?(z=Math.max(z,N)+c+20,y.css("width",z),J.css("width",z-5)):z=y.width();var x=z-c-6,K=function(a){var b=k[0].checked?x:0;(a=0<arguments.length?arguments[0]:!0)&&h.enableFx?(A.stop().animate({left:b},h.duration,h.easing),H.stop().animate({width:b+4},h.duration,h.easing),r.stop().animate({marginLeft:b-
x},h.duration,h.easing),G.stop().animate({marginRight:-b},h.duration,h.easing)):(A.css("left",b),H.css("width",b+4),r.css("marginLeft",b-x),G.css("marginRight",-b))};K(!1);var L=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};y.bind("mousedown.iButton touchstart.iButton",function(b){if(!(a(b.target).is(":checkbox, :radio")||p||!h.allowRadioUncheck&&k.is(":radio:checked")))return b.preventDefault(),u=A,q=L(b),C=q-(parseInt(A.css("left"),10)||
0),O=(new Date).getTime(),!1});h.enableDrag&&a(document).bind("mousemove.iButton_"+t+" touchmove.iButton_"+t,function(a){if(u==A)return a.preventDefault(),a=L(a),a!=C&&(w=!0,y.addClass(h.classHandleActive)),a=Math.min(1,Math.max(0,(a-C)/x)),A.css("left",a*x),H.css("width",a*x+4),G.css("marginRight",-a*x),r.css("marginLeft",-(1-a)*x),!1});a(document).bind("mouseup.iButton_"+t+" touchend.iButton_"+t,function(b){if(u==A){b.preventDefault();var c=!0;!w||(new Date).getTime()-O<h.clickOffset?(b=k[0].checked,
k.attr("checked",!b),a.isFunction(h.click)&&h.click.apply(g,[!b,k,h])):(b=.5<=(L(b)-C)/x,k[0].checked==b&&(c=!1),k.attr("checked",b));y.removeClass(h.classHandleActive);w=u=null;c?k.trigger("change"):K();return!1}});k.bind("change.iButton",function(){K();if(k.is(":radio")){var b=k[0];a(b.form?b.form[b.name]:":radio[name="+b.name+"]").filter(":not(:checked)").iButton("repaint")}a.isFunction(h.change)&&h.change.apply(g,[k,h])}).bind("focus.iButton",function(){y.addClass(h.classFocus)}).bind("blur.iButton",
function(){y.removeClass(h.classFocus)});a.isFunction(h.click)&&k.bind("click.iButton",function(){h.click.apply(g,[k[0].checked,k,h])});k.is(":disabled")&&this.disable(!0);a.browser.msie&&(y.find("*").andSelf().attr("unselectable","on"),k.bind("click.iButton",function(){k.triggerHandler("change.iButton")}));a.isFunction(h.init)&&h.init.apply(g,[k,h])}},d={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},e=d.labelOn,f=d.labelOff})(jQuery);(function(a){a.fn.farbtastic=function(b){a.farbtastic(this,b);return this};a.farbtastic=function(b,c){b=a(b).get(0);return b.farbtastic||(b.farbtastic=new a._farbtastic(b,c))};a._farbtastic=function(b,c){var d=this;a(b).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var e=a(".farbtastic",b);d.wheel=a(".wheel",b).get(0);d.radius=84;d.square=100;d.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
a("*",e).each(function(){if("none"!=this.currentStyle.backgroundImage){var b=this.currentStyle.backgroundImage;b=this.currentStyle.backgroundImage.substring(5,b.length-2);a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"})}});d.linkTo=function(b){"object"==typeof d.callback&&a(d.callback).unbind("keyup",d.updateValue);d.color=null;if("function"==typeof b)d.callback=b;else if("object"==typeof b||"string"==typeof b)d.callback=
a(b),d.callback.bind("keyup",d.updateValue),d.callback.get(0).value&&d.setColor(d.callback.get(0).value);return this};d.updateValue=function(){this.value&&this.value!=d.color&&d.setColor(this.value)};d.setColor=function(a){var b=d.unpack(a);d.color!=a&&b&&(d.color=a,d.rgb=b,d.hsl=d.RGBToHSL(d.rgb),d.updateDisplay());return this};d.setHSL=function(a){d.hsl=a;d.rgb=d.HSLToRGB(a);d.color=d.pack(d.rgb);d.updateDisplay();return this};d.widgetCoords=function(b){var c=a(d.wheel).offset();return{x:b.pageX-
c.left-d.width/2,y:b.pageY-c.top-d.width/2}};d.mousedown=function(b){document.dragging||(a(document).bind("mousemove",d.mousemove).bind("mouseup",d.mouseup),document.dragging=!0);var c=d.widgetCoords(b);d.circleDrag=2*Math.max(Math.abs(c.x),Math.abs(c.y))>d.square;d.mousemove(b);return!1};d.mousemove=function(a){a=d.widgetCoords(a);d.circleDrag?(a=Math.atan2(a.x,-a.y)/6.28,0>a&&(a+=1),d.setHSL([a,d.hsl[1],d.hsl[2]])):d.setHSL([d.hsl[0],Math.max(0,Math.min(1,-(a.x/d.square)+.5)),Math.max(0,Math.min(1,
-(a.y/d.square)+.5))]);return!1};d.mouseup=function(){a(document).unbind("mousemove",d.mousemove);a(document).unbind("mouseup",d.mouseup);document.dragging=!1};d.updateDisplay=function(){var b=6.28*d.hsl[0];a(".h-marker",e).css({left:Math.round(Math.sin(b)*d.radius+d.width/2)+"px",top:Math.round(-Math.cos(b)*d.radius+d.width/2)+"px"});a(".sl-marker",e).css({left:Math.round(d.square*(.5-d.hsl[1])+d.width/2)+"px",top:Math.round(d.square*(.5-d.hsl[2])+d.width/2)+"px"});a(".color",e).css("backgroundColor",
d.pack(d.HSLToRGB([d.hsl[0],1,.5])));"object"==typeof d.callback?(a(d.callback).css({backgroundColor:d.color,color:.5<d.hsl[2]?"#000":"#fff"}),a(d.callback).each(function(){this.value&&this.value!=d.color&&(this.value=d.color)})):"function"==typeof d.callback&&d.callback.call(d,d.color)};d.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};d.unpack=function(a){if(7==
a.length)return[parseInt("0x"+a.substring(1,3))/255,parseInt("0x"+a.substring(3,5))/255,parseInt("0x"+a.substring(5,7))/255];if(4==a.length)return[parseInt("0x"+a.substring(1,2))/15,parseInt("0x"+a.substring(2,3))/15,parseInt("0x"+a.substring(3,4))/15]};d.HSLToRGB=function(a){var b=a[0];var c=a[1];a=a[2];c=.5>=a?a*(c+1):a+c-a*c;a=2*a-c;return[this.hueToRGB(a,c,b+.33333),this.hueToRGB(a,c,b),this.hueToRGB(a,c,b-.33333)]};d.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+(b-a)*c*6:1>2*c?
b:2>3*c?a+(b-a)*(.66666-c)*6:a};d.RGBToHSL=function(a){var b=a[0],c=a[1],d=a[2];var e=Math.min(b,Math.min(c,d));a=Math.max(b,Math.max(c,d));var f=a-e;var p=(e+a)/2;var w=0;0<p&&1>p&&(w=f/(.5>p?2*p:2-2*p));e=0;0<f&&(a==b&&a!=c&&(e+=(c-d)/f),a==c&&a!=d&&(e+=2+(d-b)/f),a==d&&a!=b&&(e+=4+(b-c)/f),e/=6);return[e,w,p]};a("*",e).mousedown(d.mousedown);d.setColor("#000000");c&&d.linkTo(c)}})(jQuery);(function(a){var b=[],c=[];a.fn.doAutosize=function(b){var c=a(this).data("minwidth"),d=a(this).data("maxwidth"),g="",h=a(this),m=a("#"+a(this).data("tester_id"));g!==(g=h.val())&&(g=g.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),m.html(g),m=m.width(),b=m+b.comfortZone>=c?m+b.comfortZone:c,m=h.width(),(b<m&&b>=c||b>c&&b<d)&&h.width(b))};a.fn.resetAutosize=function(b){var c=a(this).data("minwidth")||b.minInputWidth||a(this).width();b=a(this).data("maxwidth")||b.maxInputWidth||
a(this).closest(".tagsinput").width()-b.inputPadding;var d=a(this),g=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:d.css("fontSize"),fontFamily:d.css("fontFamily"),fontWeight:d.css("fontWeight"),letterSpacing:d.css("letterSpacing"),whiteSpace:"nowrap"}),h=a(this).attr("id")+"_autosize_tester";0< !a("#"+h).length&&(g.attr("id",h),g.appendTo("body"));d.data("minwidth",c);d.data("maxwidth",b);d.data("tester_id",h);d.css("width",c)};a.fn.addTag=function(d,e){e=jQuery.extend({focus:!1,
callback:!0},e);this.each(function(){var f=a(this).attr("id"),g=a(this).val().split(b[f]);""==g[0]&&(g=[]);d=jQuery.trim(d);if(e.unique){var h=a(g).tagExist(d);1==h&&a("#"+f+"_tag").addClass("not_valid")}else h=!1;if(""!=d&&1!=h&&(a("<span>").addClass("tag").append(a("<span>").text(d).append("\u00a0\u00a0"),a("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return a("#"+f).removeTag(escape(d))})).insertBefore("#"+f+"_addTag"),g.push(d),a("#"+f+"_tag").val(""),e.focus?a("#"+f+"_tag").focus():
a("#"+f+"_tag").blur(),a.fn.tagsInput.updateTagsField(this,g),e.callback&&c[f]&&c[f].onAddTag&&(h=c[f].onAddTag,h.call(this,d)),c[f]&&c[f].onChange)){var m=g.length;h=c[f].onChange;h.call(this,a(this),g[m-1])}});return!1};a.fn.removeTag=function(d){d=unescape(d);this.each(function(){var e=a(this).attr("id"),f=a(this).val().split(b[e]);a("#"+e+"_tagsinput .tag").remove();str="";for(var g=0;g<f.length;g++)f[g]!=d&&(str=str+b[e]+f[g]);a.fn.tagsInput.importTags(this,str);c[e]&&c[e].onRemoveTag&&c[e].onRemoveTag.call(this,
d)});return!1};a.fn.tagExist=function(b){return 0<=jQuery.inArray(b,a(this))};a.fn.importTags=function(b){id=a(this).attr("id");a("#"+id+"_tagsinput .tag").remove();a.fn.tagsInput.importTags(this,b)};a.fn.tagsInput=function(d){var e=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},d);this.each(function(){e.hide&&
a(this).hide();var d=a(this).attr("id"),g=jQuery.extend({pid:d,real_input:"#"+d,holder:"#"+d+"_tagsinput",input_wrapper:"#"+d+"_addTag",fake_input:"#"+d+"_tag"},e);b[d]=g.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange)c[d]=[],c[d].onAddTag=e.onAddTag,c[d].onRemoveTag=e.onRemoveTag,c[d].onChange=e.onChange;var h='<div id="'+d+'_tagsinput" class="tagsinput"><div id="'+d+'_addTag">';e.interactive&&(h=h+'<input id="'+d+'_tag" value="" data-default="'+e.defaultText+'" />');a(h+'</div><div class="tags_clear"></div></div>').insertAfter(this);
a(g.holder).css("width",e.width);a(g.holder).css("height",e.height);""!=a(g.real_input).val()&&a.fn.tagsInput.importTags(a(g.real_input),a(g.real_input).val());if(e.interactive){a(g.fake_input).val(a(g.fake_input).attr("data-default"));a(g.fake_input).css("color",e.placeholderColor);a(g.fake_input).resetAutosize(e);a(g.holder).bind("click",g,function(b){a(b.data.fake_input).focus()});a(g.fake_input).bind("focus",g,function(b){a(b.data.fake_input).val()==a(b.data.fake_input).attr("data-default")&&
a(b.data.fake_input).val("");a(b.data.fake_input).css("color","#000000")});if(void 0!=e.autocomplete_url){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete)autocomplete_options[attrname]=e.autocomplete[attrname];void 0!==jQuery.Autocompleter?(a(g.fake_input).autocomplete(e.autocomplete_url,e.autocomplete),a(g.fake_input).bind("result",g,function(b,c,f){c&&a("#"+d).addTag(c[0]+"",{focus:!0,unique:e.unique})})):void 0!==jQuery.ui.autocomplete&&(a(g.fake_input).autocomplete(autocomplete_options),
a(g.fake_input).bind("autocompleteselect",g,function(b,c){a(b.data.real_input).addTag(c.item.value,{focus:!0,unique:e.unique});return!1}))}else a(g.fake_input).bind("blur",g,function(b){var c=a(this).attr("data-default");""!=a(b.data.fake_input).val()&&a(b.data.fake_input).val()!=c?b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:e.unique}):(a(b.data.fake_input).val(a(b.data.fake_input).attr("data-default")),
a(b.data.fake_input).css("color",e.placeholderColor));return!1});a(g.fake_input).bind("keypress",g,function(b){if(b.which==b.data.delimiter.charCodeAt(0)||13==b.which)return b.preventDefault(),b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:e.unique}),a(b.data.fake_input).resetAutosize(e),!1;b.data.autosize&&a(b.data.fake_input).doAutosize(e)});g.removeWithBackspace&&
a(g.fake_input).bind("keydown",function(b){if(8==b.keyCode&&""==a(this).val()){b.preventDefault();b=a(this).closest(".tagsinput").find(".tag:last").text();var c=a(this).attr("id").replace(/_tag$/,"");b=b.replace(/[\s]+x$/,"");a("#"+c).removeTag(escape(b));a(this).trigger("focus")}});a(g.fake_input).blur();g.unique&&a(g.fake_input).keydown(function(b){(8==b.keyCode||String.fromCharCode(b.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&a(this).removeClass("not_valid")})}return!1});
return this};a.fn.tagsInput.updateTagsField=function(c,e){var d=a(c).attr("id");a(c).val(e.join(b[d]))};a.fn.tagsInput.importTags=function(d,e){a(d).val("");var f=a(d).attr("id");e=e.split(b[f]);for(var g=0;g<e.length;g++)a(d).addTag(e[g],{focus:!1,callback:!1});c[f]&&c[f].onChange&&c[f].onChange.call(d,d,e[g])}})(jQuery);(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Popper=b()})(this,function(){function a(a){return a&&"[object Function]"==={}.toString.call(a)}function b(a,b){if(1!==a.nodeType)return[];a=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?a[b]:a}function c(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function d(a){if(!a)return document.body;switch(a.nodeName){case "HTML":case "BODY":return a.ownerDocument.body;
case "#document":return a.body}var l=b(a);return/(auto|scroll|overlay)/.test(l.overflow+l.overflowY+l.overflowX)?a:d(c(a))}function e(a){return 11===a?Y:10===a?Z:Y||Z}function f(a){if(!a)return document.documentElement;for(var c=e(10)?document.body:null,d=a.offsetParent||null;d===c&&a.nextElementSibling;)d=(a=a.nextElementSibling).offsetParent;return(c=d&&d.nodeName)&&"BODY"!==c&&"HTML"!==c?-1!==["TH","TD","TABLE"].indexOf(d.nodeName)&&"static"===b(d,"position")?f(d):d:a?a.ownerDocument.documentElement:
document.documentElement}function g(a){return null===a.parentNode?a:g(a.parentNode)}function h(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,d=c?a:b;c=c?b:a;var e=document.createRange();e.setStart(d,0);e.setEnd(c,0);e=e.commonAncestorContainer;if(a!==e&&b!==e||d.contains(c))return a=e.nodeName,"BODY"===a||"HTML"!==a&&f(e.firstElementChild)!==e?f(e):e;d=g(a);return d.host?h(d.host,b):h(a,g(b).host)}function m(a){var b=
"top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",c=a.nodeName;return"BODY"===c||"HTML"===c?(c=a.ownerDocument.documentElement,(a.ownerDocument.scrollingElement||c)[b]):a[b]}function k(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=m(b,"top"),e=m(b,"left");c=c?-1:1;return a.top+=d*c,a.bottom+=d*c,a.left+=e*c,a.right+=e*c,a}function t(a,b){b="x"===b?"Left":"Top";var c="Left"==b?"Right":"Bottom";return parseFloat(a["border"+b+"Width"],
10)+parseFloat(a["border"+c+"Width"],10)}function p(a,b,c,d){return D(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],e(10)?parseInt(c["offset"+a])+parseInt(d["margin"+("Height"===a?"Top":"Left")])+parseInt(d["margin"+("Height"===a?"Bottom":"Right")]):0)}function w(a){var b=a.body;a=a.documentElement;var c=e(10)&&getComputedStyle(a);return{height:p("Height",b,a,c),width:p("Width",b,a,c)}}function u(a){return B({},a,{right:a.left+a.width,bottom:a.top+a.height})}function q(a){var c=
{};try{if(e(10)){c=a.getBoundingClientRect();var d=m(a,"top"),l=m(a,"left");c.top+=d;c.left+=l;c.bottom+=d;c.right+=l}else c=a.getBoundingClientRect()}catch(pa){}c={left:c.left,top:c.top,width:c.right-c.left,height:c.bottom-c.top};l="HTML"===a.nodeName?w(a.ownerDocument):{};d=a.offsetWidth-(l.width||a.clientWidth||c.right-c.left);l=a.offsetHeight-(l.height||a.clientHeight||c.bottom-c.top);if(d||l)a=b(a),d-=t(a,"x"),l-=t(a,"y"),c.width-=d,c.height-=l;return u(c)}function C(a,c){var l=2<arguments.length&&
void 0!==arguments[2]&&arguments[2],f=e(10),g="HTML"===c.nodeName,n=q(a),h=q(c),m=d(a),E=b(c),Q=parseFloat(E.borderTopWidth,10),R=parseFloat(E.borderLeftWidth,10);l&&g&&(h.top=D(h.top,0),h.left=D(h.left,0));n=u({top:n.top-h.top-Q,left:n.left-h.left-R,width:n.width,height:n.height});if(n.marginTop=0,n.marginLeft=0,!f&&g)g=parseFloat(E.marginTop,10),E=parseFloat(E.marginLeft,10),n.top-=Q-g,n.bottom-=Q-g,n.left-=R-E,n.right-=R-E,n.marginTop=g,n.marginLeft=E;return(f&&!l?c.contains(m):c===m&&"BODY"!==
m.nodeName)&&(n=k(n,c)),n}function O(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=a.ownerDocument.documentElement,d=C(a,c),e=D(c.clientWidth,window.innerWidth||0),l=D(c.clientHeight,window.innerHeight||0),f=b?0:m(c);b=b?0:m(c,"left");return u({top:f-d.top+d.marginTop,left:b-d.left+d.marginLeft,width:e,height:l})}function y(a){var d=a.nodeName;if("BODY"===d||"HTML"===d)return!1;if("fixed"===b(a,"position"))return!0;a=c(a);return!!a&&y(a)}function A(a){if(!a||!a.parentElement||
e())return document.documentElement;for(a=a.parentElement;a&&"none"===b(a,"transform");)a=a.parentElement;return a||document.documentElement}function J(a,b,e,f){var l=4<arguments.length&&void 0!==arguments[4]&&arguments[4],g={top:0,left:0},n=l?A(a):h(a,b);if("viewport"===f)g=O(n,l);else{var v;"scrollParent"===f?(v=d(c(b)),"BODY"===v.nodeName&&(v=a.ownerDocument.documentElement)):"window"===f?v=a.ownerDocument.documentElement:v=f;l=C(v,n,l);"HTML"!==v.nodeName||y(n)?g=l:(v=w(a.ownerDocument),n=v.height,
v=v.width,g.top+=l.top-l.marginTop,g.bottom=n+l.top,g.left+=l.left-l.marginLeft,g.right=v+l.left)}e=e||0;l="number"==typeof e;return g.left+=l?e:e.left||0,g.top+=l?e:e.top||0,g.right-=l?e:e.right||0,g.bottom-=l?e:e.bottom||0,g}function G(a,b,c,d,e){var l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===a.indexOf("auto"))return a;l=J(c,d,l,e);var f={top:{width:l.width,height:b.top-l.top},right:{width:l.right-b.right,height:l.height},bottom:{width:l.width,height:l.bottom-b.bottom},left:{width:b.left-
l.left,height:l.height}};l=Object.keys(f).map(function(a){var b=f[a];return B({key:a},f[a],{area:b.width*b.height})}).sort(function(a,b){return b.area-a.area});var g=l.filter(function(a){var b=a.height;return a.width>=c.clientWidth&&b>=c.clientHeight});l=0<g.length?g[0].key:l[0].key;g=a.split("-")[1];return l+(g?"-"+g:"")}function H(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=d?A(b):h(b,c);return C(c,e,d)}function r(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),
c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0);b=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0);return{width:a.offsetWidth+b,height:a.offsetHeight+c}}function z(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function N(a,b,c){c=c.split("-")[0];a=r(a);var d={width:a.width,height:a.height},e=-1!==["right","left"].indexOf(c),l=e?"top":"left",f=e?"left":"top",g=e?"height":"width";return d[l]=b[l]+
b[g]/2-a[g]/2,d[f]=c===f?b[f]-a[e?"width":"height"]:b[z(f)],d}function x(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function K(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=x(a,function(a){return a[b]===c});return a.indexOf(d)}function L(b,c,d){return(void 0===d?b:b.slice(0,K(b,"name",d))).forEach(function(b){b["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var d=b["function"]||b.fn;b.enabled&&a(d)&&(c.offsets.popper=
u(c.offsets.popper),c.offsets.reference=u(c.offsets.reference),c=d(c,b))}),c}function X(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function P(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length;d++){var e=b[d];e=e?""+e+c:a;if("undefined"!=typeof document.body.style[e])return e}return null}function aa(a){return(a=a.ownerDocument)?a.defaultView:window}function ba(a,b,c,e){var f="BODY"===a.nodeName;a=f?a.ownerDocument.defaultView:
a;a.addEventListener(b,c,{passive:!0});f||ba(d(a.parentNode),b,c,e);e.push(a)}function ia(a,b){return aa(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function S(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function T(a,b){Object.keys(b).forEach(function(c){var d="";-1!=="width height top right bottom left".split(" ").indexOf(c)&&
S(b[c])&&(d="px");a.style[c]=b[c]+d})}function ja(a,b){Object.keys(b).forEach(function(c){!1===b[c]?a.removeAttribute(c):a.setAttribute(c,b[c])})}function ka(a,b){var c=a.offsets,d=c.popper,e=ca,f=function(a){return a};c=e(c.reference.width);var g=e(d.width),l=-1!==["left","right"].indexOf(a.placement);a=-1!==a.placement.indexOf("-");l=b?l||a||c%2==g%2?e:U:f;e=b?e:f;return{left:l(1==c%2&&1==g%2&&!a&&b?d.left-1:d.left),top:e(d.top),bottom:e(d.bottom),right:l(d.right)}}function da(a,b,c){var d=x(a,
function(a){return a.name===b});a=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!a){var e="`"+b+"`";console.warn("`"+c+"` modifier is required by "+e+" modifier in order to work, be sure to include it before "+e+"!")}return a}function ea(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=V.indexOf(a);c=V.slice(c+1).concat(V.slice(0,c));return b?c.reverse():c}function la(a,b,c,d){var e=[0,0],f=-1!==["right","left"].indexOf(d);a=a.split(/(\+|\-)/).map(function(a){return a.trim()});
d=a.indexOf(x(a,function(a){return-1!==a.search(/,|\s/)}));a[d]&&-1===a[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var g=/\s*,\s*|\s+/;a=-1===d?[a]:[a.slice(0,d).concat([a[d].split(g)[0]]),[a[d].split(g)[1]].concat(a.slice(d+1))];return a=a.map(function(a,d){var e=(1===d?!f:f)?"height":"width",g=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,g=!0,a):g?(a[a.length-1]+=b,g=!1,a):
a.concat(b)},[]).map(function(a){var d=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var f=+d[1];d=d[2];if(f)if(0===d.indexOf("%")){switch(d){case "%p":var g=b;break;default:g=c}f*=u(g)[e]/100}else{if("vh"===d||"vw"===d)f=(g="vh"===d?D(document.documentElement.clientHeight,window.innerHeight||0):D(document.documentElement.clientWidth,window.innerWidth||0),g/100*f)}else f=a;return f})}),a.forEach(function(a,b){a.forEach(function(c,d){S(c)&&(e[b]+=c*("-"===a[d-1]?-1:1))})}),e}for(var fa=Math.min,U=Math.floor,
ca=Math.round,D=Math.max,F="undefined"!=typeof window&&"undefined"!=typeof document,I=["Edge","Trident","Firefox"],ha=0,W=0;W<I.length;W+=1)if(F&&0<=navigator.userAgent.indexOf(I[W])){ha=1;break}var ma=F&&window.Promise?function(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1;a()}))}}:function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},ha))}},Y=F&&!(!window.MSInputMethodContext||!document.documentMode),Z=F&&/MSIE 10/.test(navigator.userAgent),
na=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),M=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},B=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&
(a[d]=b[d]);return a},oa=F&&/Firefox/i.test(navigator.userAgent);F="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" ");var V=F.slice(3);I=function(){function b(c,d){var e=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(e.update)};this.update=ma(this.update.bind(this));
this.options=B({},b.Defaults,f);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=c&&c.jquery?c[0]:c;this.popper=d&&d.jquery?d[0]:d;this.options.modifiers={};Object.keys(B({},b.Defaults.modifiers,f.modifiers)).forEach(function(a){e.options.modifiers[a]=B({},b.Defaults.modifiers[a]||{},f.modifiers?f.modifiers[a]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(a){return B({name:a},e.options.modifiers[a])}).sort(function(a,b){return a.order-b.order});this.modifiers.forEach(function(b){b.enabled&&
a(b.onLoad)&&b.onLoad(e.reference,e.popper,e.options,b,e.state)});this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners();this.state.eventsEnabled=g}return na(b,[{key:"update",value:function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=H(this.state,this.popper,this.reference,this.options.positionFixed);a.placement=G(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,
this.options.modifiers.flip.padding);a.originalPlacement=a.placement;a.positionFixed=this.options.positionFixed;a.offsets.popper=N(this.popper,a.offsets.reference,a.placement);a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";a=L(this.modifiers,a);this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,X(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),
this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var a=this.reference,b=this.state;b.updateBound=this.scheduleUpdate;aa(a).addEventListener("resize",b.updateBound,
{passive:!0});a=d(a);this.state=(ba(a,"scroll",b.updateBound,b.scrollParents),b.scrollElement=a,b.eventsEnabled=!0,b)}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=ia(this.reference,this.state))}}]),b}();return I.Utils=("undefined"==typeof window?global:window).PopperUtils,I.placements=F,I.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,
enabled:!0,fn:function(a){var b=a.placement,c=b.split("-")[0];if(b=b.split("-")[1]){var d=a.offsets,e=d.reference;d=d.popper;var f=-1!==["bottom","top"].indexOf(c);c=f?"left":"top";f=f?"width":"height";e={start:M({},c,e[c]),end:M({},c,e[c]+e[f]-d[f])};a.offsets.popper=B({},d,e[b])}return a}},offset:{order:200,enabled:!0,fn:function(a,b){var c;b=b.offset;var d=a.offsets,e=d.popper;d=d.reference;var f=a.placement.split("-")[0];return c=S(+b)?[+b,0]:la(b,e,d,f),"left"===f?(e.top+=c[0],e.left-=c[1]):
"right"===f?(e.top+=c[0],e.left+=c[1]):"top"===f?(e.left+=c[0],e.top-=c[1]):"bottom"===f&&(e.left+=c[0],e.top+=c[1]),a.popper=e,a},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,b){var c=b.boundariesElement||f(a.instance.popper);a.instance.reference===c&&(c=f(c));var d=P("transform"),e=a.instance.popper.style,g=e.top,l=e.left,h=e[d];e.top="";e.left="";e[d]="";var m=J(a.instance.popper,a.instance.reference,b.padding,c,a.positionFixed);e.top=g;e.left=l;e[d]=h;b.boundaries=m;var k=a.offsets.popper,
n={primary:function(a){var c=k[a];return k[a]<m[a]&&!b.escapeWithReference&&(c=D(k[a],m[a])),M({},a,c)},secondary:function(a){var c="right"===a?"left":"top",d=k[c];return k[a]>m[a]&&!b.escapeWithReference&&(d=fa(k[c],m[a]-("right"===a?k.width:k.height))),M({},c,d)}};return b.priority.forEach(function(a){var b=-1===["left","top"].indexOf(a)?"secondary":"primary";k=B({},k,n[b](a))}),a.offsets.popper=k,a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,
enabled:!0,fn:function(a){var b=a.offsets,c=b.popper;b=b.reference;var d=a.placement.split("-")[0],e=U,f=-1!==["top","bottom"].indexOf(d);d=f?"right":"bottom";var g=f?"left":"top";f=f?"width":"height";return c[d]<e(b[g])&&(a.offsets.popper[g]=e(b[g])-c[f]),c[g]>e(b[d])&&(a.offsets.popper[g]=e(b[d])),a}},arrow:{order:500,enabled:!0,fn:function(a,c){var d;if(!da(a.instance.modifiers,"arrow","keepTogether"))return a;c=c.element;if("string"==typeof c){if(c=a.instance.popper.querySelector(c),!c)return a}else if(!a.instance.popper.contains(c))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
a;var e=a.placement.split("-")[0],f=a.offsets,g=f.popper,h=f.reference,l=-1!==["left","right"].indexOf(e);e=l?"height":"width";var m=l?"Top":"Left";f=m.toLowerCase();var k=l?"left":"top",n=l?"bottom":"right";l=r(c)[e];h[n]-l<g[f]&&(a.offsets.popper[f]-=g[f]-(h[n]-l));h[f]+l>g[n]&&(a.offsets.popper[f]+=h[f]+l-g[n]);a.offsets.popper=u(a.offsets.popper);h=h[f]+h[e]/2-l/2;var t=b(a.instance.popper);n=parseFloat(t["margin"+m],10);m=parseFloat(t["border"+m+"Width"],10);m=h-a.offsets.popper[f]-n-m;return m=
D(fa(g[e]-l,m),0),a.arrowElement=c,a.offsets.arrow=(d={},M(d,f,ca(m)),M(d,k,""),d),a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,b){if(X(a.instance.modifiers,"inner")||a.flipped&&a.placement===a.originalPlacement)return a;var c=J(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],e=z(d),f=a.placement.split("-")[1]||"",g=[];switch(b.behavior){case "flip":g=[d,e];break;case "clockwise":g=ea(d);break;case "counterclockwise":g=
ea(d,!0);break;default:g=b.behavior}return g.forEach(function(h,l){if(d!==h||g.length===l+1)return a;d=a.placement.split("-")[0];e=z(d);var m=a.offsets.popper;h=a.offsets.reference;var k=U;h="left"===d&&k(m.right)>k(h.left)||"right"===d&&k(m.left)<k(h.right)||"top"===d&&k(m.bottom)>k(h.top)||"bottom"===d&&k(m.top)<k(h.bottom);var n=k(m.left)<k(c.left),t=k(m.right)>k(c.right),p=k(m.top)<k(c.top);k=k(m.bottom)>k(c.bottom);m="left"===d&&n||"right"===d&&t||"top"===d&&p||"bottom"===d&&k;var v=-1!==["top",
"bottom"].indexOf(d),q=!!b.flipVariationsByContent&&(v&&"start"===f&&t||v&&"end"===f&&n||!v&&"start"===f&&k||!v&&"end"===f&&p);n=!!b.flipVariations&&(v&&"start"===f&&n||v&&"end"===f&&t||!v&&"start"===f&&p||!v&&"end"===f&&k)||q;(h||m||n)&&(a.flipped=!0,(h||m)&&(d=g[l+1]),n&&(f="end"===f?"start":"start"===f?"end":f),a.placement=d+(f?"-"+f:""),a.offsets.popper=B({},a.offsets.popper,N(a.instance.popper,a.offsets.reference,a.placement)),a=L(a.instance.modifiers,a,"flip"))}),a},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,e=d.popper;d=d.reference;var f=-1!==["left","right"].indexOf(c),g=-1===["top","left"].indexOf(c);return e[f?"left":"top"]=d[c]-(g?e[f?"width":"height"]:0),a.placement=z(b),a.offsets.popper=u(e),a}},hide:{order:800,enabled:!0,fn:function(a){if(!da(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=x(a.instance.modifiers,
function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0;a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1;a.attributes["x-out-of-boundaries"]=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,b){var c=b.x,d=b.y,e=a.offsets.popper,g=x(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==g&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");
b=void 0===g?b.gpuAcceleration:g;g=f(a.instance.popper);var h=q(g);e={position:e.position};var m=ka(a,2>window.devicePixelRatio||!oa);c="bottom"===c?"top":"bottom";var k="right"===d?"left":"right",l=P("transform");(d="bottom"==c?"HTML"===g.nodeName?-g.clientHeight+m.bottom:-h.height+m.bottom:m.top,g="right"==k?"HTML"===g.nodeName?-g.clientWidth+m.right:-h.width+m.right:m.left,b&&l)?(e[l]="translate3d("+g+"px, "+d+"px, 0)",e[c]=0,e[k]=0,e.willChange="transform"):(e[c]=d*("bottom"==c?-1:1),e[k]=g*("right"==
k?-1:1),e.willChange=c+", "+k);return a.attributes=B({},{"x-placement":a.placement},a.attributes),a.styles=B({},e,a.styles),a.arrowStyles=B({},a.offsets.arrow,a.arrowStyles),a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){return T(a.instance.popper,a.styles),ja(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&T(a.arrowElement,a.arrowStyles),a},onLoad:function(a,b,c,d,e){d=H(e,b,a,c.positionFixed);a=G(c.placement,d,b,a,c.modifiers.flip.boundariesElement,
c.modifiers.flip.padding);return b.setAttribute("x-placement",a),T(b,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}},I});(function(a){function b(b,c){var d=a(window);c=d.scrollTop();var e=d.scrollLeft()+d.width(),h=d.scrollTop()+d.height();d=d.scrollLeft();var m=b.element.offset();m.right=m.left+b.element.outerWidth();m.bottom=m.top+b.element.outerHeight();return c<=m.top&&d<=m.left&&e>=m.right&&h>=m.bottom}function c(b,c){return b.clone().empty().addClass(c.fixed_class||"sticky-fixed").css(a.extend({position:"fixed",display:"none"},c.fixed_css||{})).removeAttr("id").insertAfter(b)}a.fn.sticky=function(d){function e(){f.closest("body").length?
a.each(h,function(a,b){g.isStaticVisible.call(b.element,b,g)?b.is_fixed&&(b.is_fixed=!1,b.fixed_clone.hide(),g.hideFixed&&g.hideFixed.call(b.fixed_clone,b,g)):(b.is_fixed||(b.is_fixed=!0,b.fixed_clone.show(),g.showFixed&&g.showFixed.call(b.fixed_clone,b,g)),g.updateFixed&&g.updateFixed.call(b.fixed_clone,b,g))}):a(window).off("resize scroll",e)}var f=this,g=a.extend({fixed_css:{bottom:0},fixed_class:"sticky-fixed",isStaticVisible:b,getClone:c,showFixed:function(a){a.element.css({"min-height":a.element.height()});
a.fixed_clone.empty().css({"min-width":a.element.width()}).append(a.element.children())},hideFixed:function(a){a.element.css({"min-height":0});a.fixed_clone.children().appendTo(a.element)},updateFixed:function(a){a.fixed_clone.css({"min-width":a.element.width()})}},d||{}),h=f.map(function(){var b=a(this);return{element:b,fixed_clone:g.getClone.call(b,b,g),is_fixed:!1}}).get();a(window).on("resize scroll",e);e();return this}})(jQuery);(function(a){a.fn.lazyLoad=function(b,c){function d(){if(e.stopped)this.onscroll=null;else if(!e.stopped&&!e.loading&&h(g,f)<=e.distance){if(null!==e.hash){var a=location.hash.replace(/^[^#]*#\/*/,"").split("/")[0];if(-1===e.hash.indexOf(a)){this.onscroll=null;return}}e.load()}}if("stop"==b){var e=this.data("lazyLoadSettings");e&&(e.stopped=!0)}else if("sleep"==b){if(e=this.data("lazyLoadSettings"))e.loading=!0}else if("wake"==b){if(e=this.data("lazyLoadSettings"))e.loading=!1}else if("force"==b)(e=
this.data("lazyLoadSettings"))&&(e.loading||e.load());else{this.data("lazyLoadSettings",a.extend({distance:50,load:function(){},container:g,state:"wake",hash:location.hash.replace(/^[^#]*#\/*/,"").split("/")[0]||null,distanceBetweenBottoms:null},b||{}));e=this.data("lazyLoadSettings");e.loading=!1;e.stopped=!1;var f=this,g="string"===typeof e.container?a(e.container):e.container;null===e.hash||a.isArray(e.hash)||(e.hash=[e.hash]);a.fn.lazyLoad.call(f,e.state);(function(){var a=setTimeout(function(){if(e.stopped)clearTimeout(a);
else{if(null!==e.hash){var b=location.hash.replace(/^[^#]*#\/*/,"").split("/")[0];if(-1===e.hash.indexOf(b)){clearTimeout(a);return}}e.loading?a=setTimeout(arguments.callee,350):(h(g,f),h(g,f)<=e.distance?(e.load(),a=setTimeout(arguments.callee,350)):(f.get(0).onscroll=d,clearTimeout(a)))}},350)})();var h="function"===typeof e.distanceBetweenBottoms?e.distanceBetweenBottoms:function(a,b,c){c=c||0;return a.position().top+a.outerHeight()-c-(b.scrollTop()+b.height())}}}})(jQuery);(function(a){a("#topic-access-toggle").iButton({labelOn:"",labelOff:"",className:"mini"});a.storage=new a.store;a.hub={lang:!1,framework_version:!1,options:{accountName:""},init:function(b){this.options=b||{};a.sidebar.init();"undefined"!=typeof a.History&&(a.History.bind(a.hub.dispatch),a.History.unbind=function(b,d){d?a.History.handlers.specific[b]&&a.each(a.History.handlers.specific[b],function(c,f){if(f===d)return a.History.handlers.specific[b].splice(c,1),!1}):(d=b,a.each(a.History.handlers.generic,
function(b,c){if(c===d)return a.History.handlers.generic.splice(b,1),!1}))});b=window.location.hash;"#/"!==b&&b||this.dispatch()},forceHash:function(b){b=a.hub.helper.cleanHash(b);a.hub.currentHash!==b&&(a.hub.currentHash=b,a.wa.setHash(b))},backWithoutDispatch:function(b){var c;b&&a.History.bind(c=function(){a.History.unbind(c);b()});this.skipDispatch=1;history.back()},redispatch:function(){this.currentHash=null;this.dispatch()},skipDispatch:0,currentHash:null,dispatch:function(b){if(this!==a.hub)return a.hub.dispatch(b);
if(0<a.hub.skipDispatch)return a.hub.skipDispatch--,!1;b=a.hub.helper.cleanHash(b||void 0);if(a.hub.currentHash!=b){var c=a.hub.currentHash;a.hub.currentHash=b;var d=new a.Event("wa_before_dispatched");a(window).trigger(d);if(d.isDefaultPrevented())return a.hub.currentHash=c,a.wa.setHash(c),!1;if(b)if(b=b.replace(/^.*#\/?/,"").replace(/\/$/,""),b=b.split("/"),b[0]){c="";d=b.length;for(var e=0;e<b.length;e++){var f=b[e];if(2>e)if(0===e)c=f;else if("add"==f||parseInt(f,10)!=f&&-1==f.indexOf("=")&&"search"!=
c&&"following"!=c&&"plugins"!=c)c+=f.substr(0,1).toUpperCase()+f.substr(1);else{d=e;break}else{d=e;break}}b=b.slice(d);a.hub[c+"Action"]?(a.sidebar.highlight(),a.hub.currentAction=c,a.hub.currentActionAttr=b,a.hub[c+"Action"].apply(a.hub,b),a("body").animate({scrollTop:0},200)):console&&console.log("Invalid action name:",c+"Action")}else a.hub.defaultAction();else a.hub.defaultAction()}},defaultAction:function(b){a("#wa-app > .sidebar li.selected").removeClass("selected");a('#wa-app > .sidebar li a[href="#/"]').parent().addClass("selected");
b=this.getOrder("default",b);this.load("?module=topics"+(b?"&sort="+b:""),function(){})},pluginsAction:function(b){a("#wa-plugins-container").length?a.plugins.dispatch(b):this.load("?module=plugins")},getOrder:function(b,c){b="hub/"+b+"/order";return c?(a.storage.set(b,c),c):a.storage.get(b)},initLazyLoad:function(){var b=a(".lazyloading-paging");if(b.length){var c=parseInt(b.data("times")||"10",10),d=b.data("linkText")||"Load more",e=b.find("li.selected");if("1"==e.children("a").text()){b.hide();
var f=a(window);f.lazyLoad("stop");e.next().length&&f.lazyLoad({container:"#h-content .h-topics",load:function(){f.lazyLoad("sleep");var b=a(".lazyloading-paging").hide(),e=a(".h-footer"),m=b.find("li.selected").next().find("a").attr("href");if(m){var k=a("#h-content .h-topics");a(".loading-wrapper").show();a.get(m,function(g){g=a("<div></div>").html(g);k.append(g.find("#h-content .h-topics").children());var h=g.find(".lazyloading-paging").hide();b.replaceWith(h);b=h;e.replaceWith(g.find(".h-footer"));
--c;b.find("li.selected").next().length?!isNaN(c)&&0>=c?(f.lazyLoad("sleep"),a(".lazyloading-load-more").length||a('<a href="#" class="lazyloading-load-more">'+d+"</a>").insertAfter(b).click(function(){c=1;f.lazyLoad("wake");f.lazyLoad("force");return!1})):f.lazyLoad("wake"):(f.lazyLoad("stop"),a(".lazyloading-load-more").remove());g.remove();k.trigger("lazyload_append");a(".loading-wrapper").hide()})}else f.lazyLoad("stop")}})}}},popularAction:function(){this.defaultAction("popular")},archiveAction:function(){this.defaultAction("archive")},
updatedAction:function(){this.defaultAction("updated")},recentAction:function(){this.defaultAction("recent")},unansweredAction:function(){this.defaultAction("unanswered")},contactAction:function(b,c,d){(d=d||"")&&(d="&sort="+d);(c=c||"")&&(c="&hub_id="+c);this.load("?module=topics"+d+c+"&hash=contact/"+encodeURIComponent(b),function(){a(".h-header .h-sort").remove()})},load:function(b,c){var d=this.options,e=a.hub.load_protector=Math.random();a.get(b,{},function(b){if(e===a.hub.load_protector){a(window).scrollTop(0);
a("#content").html(b);b=a("#content").find("h1:first");b.length&&(b=b.children().length?b.find(".title").length?b.find(".title").text():b.contents()[0].textContent?b.contents()[0].textContent:b.contents()[0].innerText:b.text(),document.title=b+" \u2014 "+d.accountName);if(c)try{c.call(this)}catch(g){}a(window).trigger(a.Event("wa_loaded"))}})},typeAction:function(a,c){this.load("?module=topics&hash=type/"+a+(c?"&sort="+c:""),function(){})},hubAction:function(a,c){c=this.getOrder("hub"+a,c);this.load("?module=topics&hash=hub/"+
a+(c?"&sort="+c:""))},followingAction:function(a){a=this.getOrder("following",a);this.load("?module=topics&hash=following"+(a?"&sort="+a:""),function(){})},categoryAddAction:function(a){var b=this;a=parseInt(a);this.load("?module=settings&action=category&hub_id="+a,function(){b.streamSettingsHandler(null,null,"category")})},categoryAction:function(b,c,d){var e=this;this.load("?module=topics&hash=category/"+b+(c?"&sort="+c:""),function(){d&&"function"==typeof d&&d();a("a.stream-edit").click(function(){var c=
a(this);c.find(".icon16").removeClass("settings").addClass("loading");a("#h-stream-settings").load("?module=settings&action=category&id="+b,function(){e.streamSettingsHandler(b,c,"category")});return!1})})},filterAddAction:function(){var a=this;this.load("?module=settings&action=filter",function(){a.streamSettingsHandler(null,null,"filter")})},filterAction:function(b,c,d){var e=this;c=this.getOrder("filter"+b,c);this.load("?module=topics&hash=filter/"+b+(c?"&sort="+c:""),function(){d&&"function"==
typeof d&&d();a("a.stream-edit").click(function(){var c=a(this);c.find(".icon16").removeClass("funnel").addClass("loading");a("#h-stream-settings").load("?module=settings&action=filter&id="+b,function(){e.streamSettingsHandler(b,c,"filter")});return!1})})},tagAction:function(a,c){this.load("?module=topics&hash=tag/"+a+(c?"&sort="+c:""),function(){})},searchAction:function(a){this.load("?module=topics&hash=search/"+encodeURIComponent(a),function(){})},topicAddAction:function(){this.load("?module=topics&action=edit")},
topicEditAction:function(a){this.load("?module=topics&action=edit&id="+a)},topicAction:function(a){this.load("?module=topics&action=info&id="+a)},settingsAction:function(){this.load("?module=settings")},authorsAction:function(){this.load("?module=authors")},settingsTypeAction:function(a){this.load("?module=settings&action=type&id="+a)},settingsHubAction:function(a){this.load("?module=settings&action=hub&id="+a)},settingsFilterAction:function(a){this.load("?module=settings&action=filter&id="+a)},commentsAction:function(a){this.load("?module=comments"+
(a?"&"+a:""))},pagesAction:function(b){a("#wa-page-container").length?waLoadPage(b):this.load("?module=pages")},designAction:function(b){b?a("#wa-design-container").length?waDesignLoad():a("#content").load("?module=design",function(){waDesignLoad(b)}):a("#content").load("?module=design",function(){waDesignLoad("")})},designThemesAction:function(b){a("#wa-design-container").length?waDesignLoad():a("#content").load("?module=design",function(){waDesignLoad()})},streamSettingsSaveHandler:function(b,c,
d,e,f,g){d.find(":submit").prop("disabled",!1);if("ok"==b.status){if(c.slideUp(),g&&(g.find(".icon16").removeClass("loading").addClass("category"==f?"settings":"funnel"),g.show()),b.data){c=b.data||{};switch(f){case "category":a.hub.helper.updateCategory(e||c.id,c);break;case "filter":a.hub.helper.updateFilter(e||c.id,c)}if(e)switch(a(".h-saved").slideDown(),d=function(){a(".h-saved").show();setTimeout(function(){a(".h-saved").slideUp()},4E3)},f){case "category":0<c.type?a.hub.categoryAction(e,null,
d):(a("#list-title-text").text(b.data.name),document.title=b.data.name+" \u2014 "+a.hub.options.accountName);break;case "filter":a.hub.filterAction(e,null,d)}else window.location.hash="/"+f+"/"+c.id+"/"}}else a.hub.helper.formError(d,b.errors||{},"category")},streamDeleteHandler:function(b,c,d){d?"string"==typeof d&&(d+="&id="+b):d={id:b};a.post("?module=settings&action="+c+"Delete",d,function(d){if("ok"==d.status){switch(c){case "category":a.sidebar.sidebar.find("#category-"+b).remove();break;case "filter":a.sidebar.sidebar.find('a[href="\\#/filter/'+
b+'/"]').closest("li").remove()}location.hash="#/"}},"json")},streamSettingsHandler:function(b,c,d){c&&c.hide();var e=a("#h-stream-settings");e.slideDown();var f=this,g=e.find("form");this.helper.glyphHandler(g,d,"filter"==d?"icon":"glyph");g.find(':input[name$="\\[name\\]"]:first').focus();g.submit(function(){a.hub.helper.formError(g);g.find(":submit").attr("disabled",!0);a(".tagsinput input").trigger(jQuery.Event("keypress",{which:13}));var h=new FormData(this),m=g.find("#h-category-logo-progressbar"),
k=setTimeout(function(){g.find(".progressbar").show()},2E3);a.ajax({url:g.attr("action"),type:"POST",async:!0,xhr:function(){var b=a.ajaxSettings.xhr();b.upload&&g.find(':input[type="file"]').length&&b.upload.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded||a.position;a=a.totalSize||a.total;m.show();m.css("width",Math.min(100,Math.floor(b/a*100))+"%")}},!1);return b},success:function(h){try{clearTimeout(k);g.find(".progressbar").hide();var m=a.parseJSON(h);f.streamSettingsSaveHandler(m,
e,g,b,d,c||!1)}catch(w){a.hub.helper.formError(g,{submit:h.replace(/<\/?[^>]+>/gi,"").substr(0,512)},"category")}},data:h,cache:!1,dataType:"html",contentType:!1,processData:!1});return!1});a("a.cancel",e).click(function(){e.slideUp();c?(c.find(".icon16").removeClass("loading").addClass("category"==d?"settings":"funnel"),c.show()):window.location.hash="/";return!1});b&&a("a.js-delete",e).click(function(){var c=a(this);if("category"==d&&c.hasClass("js-dialog")){var e=a("#h-category-delete");e.waDialog({onSubmit:function(){f.streamDeleteHandler(b,
d,e.find("form").serialize());return!1}})}else confirm($_("Are you sure?"))&&f.streamDeleteHandler(b,d);return!1})},manageHandler:function(b,c){a("#blog-stream-primary-menu").hide();a("#blog-stream-manage-menu").show();this.management=!0;this.onContentUpdate();return!1},manageCompleteHandler:function(b,c){this.management=!1;a("#blog-stream-manage-menu").hide();a("#blog-stream-primary-menu").show();a(".b-post.js-managed").each(function(){a(this).removeClass("js-managed");a(this).find("h3:hidden").show();
a(this).find("h3:first").hide();a(this).find(".b-post-body:hidden, .profile.image20px:hidden").fadeIn()});return!1},topics:{last_hash:"",$topics_ul:null,$bulk_menu:null,$sort_menu:null,init:function(b){this.last_hash=window.location.hash;if(b&&"undefined"!=typeof b.topics_count){var c=a("#wa-app > .sidebar li.selected:first .count:first");c.length&&c.text(b.topics_count)}this.$topics_ul=a("ul.h-topics");this.initBulkActions();this.initFollowLinks();this.initTopicTypesFilter();this.$topics_ul.on("click",
".toggle-comments",function(){a(this).closest("li").find(".h-comments").slideToggle()});a(".h-saved .h-close-saved").on("click",function(){a(this).closest(".h-saved").slideUp();return!1})},initBulkActions:function(){function b(b,c,d){if(b&&c&&b[0]&&c[0]&&!b.is(c[0])){var e=!1;c.parent().children().each(function(g,f){if(e){if(b.is(f)||c.is(f))return!1;a(f).find("input:checkbox.js-bulk-mode:visible").prop("checked",d).change()}else if(b.is(f)||c.is(f))e=!0})}}var c=this;this.$bulk_menu=a("ul.js-bulk-menu:first");
this.$sort_menu=a("ul.js-sort-menu:first");this.$bulk_menu.find("a:first").click(function(){a(this).is(":visible")&&c.$topics_ul.addClass("h-bulk-mode").closest(".h-stream").removeClass("h-mode-normal").addClass("h-mode-bulk");c.$sort_menu.hide();c.$bulk_menu.children("li").toggle();c.bulkCount();return!1});this.$bulk_menu.find("a:last").click(function(){a(this).is(":visible")&&c.$topics_ul.removeClass("h-bulk-mode").closest(".h-stream").addClass("h-mode-normal").removeClass("h-mode-bulk");c.$sort_menu.show();
c.$bulk_menu.children("li").toggle();return!1});this.$bulk_menu.find("a.js-bulk-action").click(function(){var b=a(this);if(c.bulkCount()){var d=b.data("confirm");if(!d||confirm(d))d=b.data("action"),d="bulk"+d.substr(0,1).toUpperCase()+d.substr(1),c[d+"Action"].apply(c,[b])}else alert($_("Select at least one topic"));return!1});this.$topics_ul.on("change",":input.js-bulk-mode",function(){c.bulkCount();this.checked?a(this).closest("li").addClass("selected").find("h3").addClass("bold"):a(this).closest("li").removeClass("selected").find("h3").removeClass("bold")});
var d=null,e=null;this.$topics_ul.on("click",":input.js-bulk-mode",function(f){var g=a(this),h=g.closest(".h-topic");g.prop("checked")?(f.shiftKey&&d&&b(d,h,!0),d=h,e=null):(f.shiftKey&&e&&b(e,h,!1),d=null,e=h);c.bulkCount()});a.storage.get("sort-handler-unavailable-notice-hidden")?a(".sort-handler-unavailable-notice").remove():a(".sort-handler-unavailable-notice .h-close").click(function(){a(this).closest(".sort-handler-unavailable-notice").remove();a.storage.set("sort-handler-unavailable-notice-hidden",
!0);return!1})},initFollowLinks:function(){this.$topics_ul.on("click",".h-follow",function(){var b=a(this),c=b.find("i"),d=c.hasClass("star-empty")?1:0;a.post("?module=following",{topic_id:b.data("topic"),follow:d},function(e){if("ok"==e.status){e=parseInt(a("#following-count").html());var f=b.closest("li"),g=f.find(".h-comments");d?(g.slideDown(),f.addClass("h-followed").removeClass("h-not-followed"),b.addClass("highlighted"),c.removeClass("star-empty").addClass("star"),b.find(".followers-count").html($_("Following")),
e+=1):(g.slideUp(),f.removeClass("h-followed").addClass("h-not-followed"),b.removeClass("highlighted"),c.addClass("star-empty").removeClass("star"),b.find(".followers-count").html(""),--e);a("#following-count").addClass("highlighted").html(e)}},"json");return!1})},initTopicTypesFilter:function(){function b(){var b={};f.map(function(){if(this.checked)return 1;b[this.value]=1}).length||(b={});var c=[],e=[];d.children().each(function(){var d=a(this).data("type-id");b[d]?c.push(this):e.push(this)});c.length?
(a(c).css("opacity",.7).slideUp(function(){a(c).css("opacity","");a(window).scroll()}),a(".h-footer .place-for-hidden-label").show().children("span").text(c.length),d.closest(".h-stream").addClass("h-js-filtered").removeClass("h-not-js-filtered")):(a(".h-footer .place-for-hidden-label").hide().children("span").text("0"),d.closest(".h-stream").addClass("h-not-js-filtered").removeClass("h-js-filtered"));e.length&&a(e).slideDown(function(){a(window).scroll()})}function c(){var b=f.map(function(){return(this.checked||
null)&&a.trim(a(this).closest("label").text())}).get().join(", ");b=a.trim(e.find("ul li.selected a").text())+(b?": "+b:"");e.find("> li > a i").text(b)}var d=a("#h-content .h-topics"),e=a(".h-sort.js-sort-menu"),f=e.find(".h-filter-by-type :checkbox");e.find(".h-filter-by-type").on("change",":checkbox",function(){b();c()});d.on("lazyload_append",function(){b()})},initManualDragAndDrop:function(b){this.$topics_ul.sortable({items:"> li",distance:5,tolerance:"pointer",handle:".sort,h3 a,i.h-glyph32",
update:function(c,d){c=d.item.data("id");d=d.item.next("li").data("id");a.post("?module=topics&action=move",{id:c,before_id:d,category_id:b},null,"json").always(function(a,b){("success"!=b||"ok"!==a.status)&&console&&console.log(b,a.errors||a)})}})},bulkCount:function(){var a=this.$topics_ul.find(":input.js-bulk-mode:checked").length;this.$bulk_menu.find(".js-count").text(a);return a},bulkDeleteAction:function(b){b.find("i.icon16").removeClass("delete").addClass("loading");var c=[];this.$topics_ul.find(":input.js-bulk-mode:checked").each(function(){c.push(this.value)});
var d=this;a.ajax({url:"?module=topics&action=delete",dataType:"json",type:"post",data:{ids:c},success:function(a){b.find("i.icon16").removeClass("loading").addClass("delete");d.$bulk_menu.find("a:last").click();if("ok"!=a.status)default_error_handler(a);else if(a.data.deleted)for(var c in a.data.deleted)a.data.deleted.hasOwnProperty(c)&&d.$topics_ul.find('>li[data-id="'+a.data.deleted[c]+'"]').remove()}})},bulkPriorityAction:function(b){b=b.data("priority");var c=this.$topics_ul.find(":input.js-bulk-mode:checked").map(function(){return this.value}).get();
a.post("?module=topics&action=bulkPriority",{priority:b,topic_ids:c},function(){a.hub.redispatch()})},bulkMoveAction:function(b){b="&hub_id="+b.data("hub")+"&category_id="+b.data("category");var c=a("#h-bulk-topics-move"),d=this;c.hasClass("dialog")?d.bulkMoveDialog(c):c.load("?module=dialog&action=topicsMove"+b,function(){c.addClass("dialog");c.find(':input[name="hub_id"]').change(function(){if(this.checked){c.find("select").attr("disabled",!0);var b=a(this).parents(".value:first").find("select:first");
b.length&&b.attr("disabled",null)}}).change();d.bulkMoveDialog(c)})},bulkMoveDialog:function(b){var c=this;b.waDialog({disableButtonsOnSubmit:!0,onLoad:function(){var a=[];c.$topics_ul.find(":input.js-bulk-mode:checked").each(function(){a.push(this.value)});b.find(':input[name="topic_ids"]').val(a.join(","))},onSubmit:function(){var c=b.find("form:first"),e=c.find(':input[name="hub_id"]:checked'),f=e.val(),g=e.parents(".value:first").find("select:first").val();a.ajax({url:c.attr("action"),data:c.serialize(),
dataType:"json",type:"post",success:function(a){b.waDialog("close");window.location.hash=g?"/category/"+g+"/":f?"/hub/"+f+"/":"/"}});return!1}})}},helper:{formError:function(b,c,d){b.find(":submit").attr("disabled",null);if(c){for(var e in c||{})if(c.hasOwnProperty(e)){var f=b.find(this.getSelector(e,d));f.length||(f=b.find(this.getSelector(e)));f.length||(f=b.find(":submit:first"));f.addClass("error");var g=f.next(".errormsg");g.length?g.text(c[e]):f.after(a('<em class="errormsg"></em>').text(c[e]))}b.find("input.error:first").focus()}else b.find(":input.error").removeClass("error"),
b.find(".errormsg").text("")},updateCategory:function(b,c){b=a.sidebar.sidebar.find("#category-"+b);b.length?(b.find(".name").text(c.name),b.find(".count").text(c.topics_count),b.find(".js-glyph").replaceWith(c.glyph_html),a("h1.list-title .title").text(c.name)):a.sidebar.reload(function(){a.sidebar.setHub(c.hub_id)})},updateFilter:function(b,c){var d=a.sidebar.sidebar.find('a[href="\\#/filter/'+b+'/"]').parents("li");d.length?(d.find(".count").text(c.topics_count),d.find(".name").text(c.name),d.find(".js-icon").replaceWith(c.icon_html),
a("h1.list-title .title").text(c.name)):(d=a('<li><a href="#/filter/'+(b||c.id)+'/">'+c.icon_html+'<span class="name">name placeholder</span></a></li>'),d.insertBefore(a.sidebar.sidebar.find('a[href="\\#/filter/add/"]').parents("li")),d.find(".name").text(c.name))},glyphHandler:function(b,c,d){d||(d="glyph");var e=b.find(".js-"+d+"-templates"),f=b.find(this.getSelector(d,c));e.on("click","li > a",function(){e.find(".selected").removeClass("selected");var b=a(this);b.parents("li").addClass("selected");
f.val(b.data(d));return!1})},confirmLeave:function(b,c,d){var e,f,g=a(window);g.on("beforeunload",e=function(a){if(b())return c});g.on("wa_before_dispatched",f=function(a){b()?confirm(c+" "+d)||a.preventDefault():g.off("unload",e).off("wa_before_dispatched",f)})},cleanHash:function(a){"undefined"==typeof a&&(a=window.location.hash.toString());for(a.length||(a=""+a);0<a.length&&"/"===a[a.length-1];)a=a.substr(0,a.length-1);a+="/";"#"!=a[0]?("/"!=a[0]&&(a="/"+a),a="#"+a):a[1]&&"/"!=a[1]&&(a="#/"+a.substr(1));
if("#/"==a)return"";try{a=decodeURIComponent(a)}catch(c){}return a},isCtrlS:function(a){return 19==a.which||115==a.which&&a.ctrlKey||"s"==String.fromCharCode(a.which).toLowerCase()&&a.ctrlKey?!0:!1},getSelector:function(a,c){var b=':input[name="';return c?b+c+"\\["+a+'\\]"]':b+a+'"]'}}}})(jQuery);(function(a){a.sidebar={sidebar:null,options:{},init:function(b){this.options=b||{};this.sidebar=a("#wa-app").find(".sidebar:first");this.initCollapsibleSections();this.initCategoriesDragAndDrop();this.initFiltersDragAndDrop();this.highlight();a(window).trigger(a.Event("wa_sidebar_loaded"));this.reloader||(this.reloader=setInterval(function(){a.sidebar.reload()},3E5))},setHub:function(b){b=a("#hub-"+b).closest(".h-hub").removeClass("folded").find(".category-list:first");a("#wa-app > .sidebar .category-list").not(b).slideUp(200,
function(){a(this).closest(".h-hub").addClass("folded")});b.slideDown(200)},initCategoriesDragAndDrop:function(){this.sidebar.find(".category-list ul").sortable({axis:"y",items:"> li",distance:5,update:function(b,c){b={id:c.item.data("categoryId"),before_id:c.item.prev().data("categoryId")||0};a.post("?module=categories&action=move",b,null,"json").always(function(a,b){("success"!=b||"ok"!==a.status)&&console&&console.log(b,a.errors||a)})}})},initFiltersDragAndDrop:function(){var b=a("#h-sidebar-filters-list"),
c={};b.children().each(function(b,d){b=a(d);c[b.data("filterId")]=b});var d=a.storage.get("hub/filters_order");d&&d.reverse&&a.each(d.reverse(),function(a,d){c[d]&&c[d].prependTo(b)});b.sortable({axis:"y",items:"> li",distance:5,update:function(){var c=[];b.children().each(function(b,d){c.push(a(d).data("filterId"))});a.storage.set("hub/filters_order",c)}})},initCollapsibleSections:function(){var b=function(b,d){var c="hub/"+a(b).attr("id")+"/collapse",f=a(b).find(".collapse-handler");b=a(b).next();
f.hasClass("darr")?(f.removeClass("darr").addClass("rarr"),b.hide(),d||a.storage.set(c,1)):(f.removeClass("rarr").addClass("darr"),b.show(),d||a.storage.del(c,1));return!1};this.sidebar.on("click",".collapse",function(){b(this)});this.sidebar.find(".collapse").each(function(){var c="hub/"+a(this).attr("id")+"/collapse";a.storage.get(c)&&b(this,!0)})},highlight:function(b){b=a.hub.helper.cleanHash(b);b=b.replace('"','\\"');a("#wa-app > .sidebar li.selected").removeClass("selected");var c=a('#wa-app > .sidebar li a[href="'+
b+'"]');!c.length&&2<b.length&&(c=a('#wa-app > .sidebar li a[href="'+a.hub.helper.cleanHash(b.replace(/\/[^\/]+\/$/,""))+'"]'));c.length&&c.closest("li").addClass("selected")},reload:function(b){var c=a(".h-hub:not(.folded)").data("hub-id");a.post("?sidebar=1",function(d){a.sidebar.sidebar.html(d);a.sidebar.init();c&&a.sidebar.setHub(c);b&&b()})}}})(jQuery);
//# sourceMappingURL=hub.min.js.map